local redzlib = loadstring(game:HttpGet("https://raw.githubusercontent.com/kayrus999/kayrus99/refs/heads/main/kayrusLINDO"))()

local Window = redzlib:MakeWindow({
  Title = "LYRA HUB",
  SubTitle = "By:Kayrus999 & Xicrinho",
  SaveFolder = "LinuxHub_Brookhaven"
})

Window:AddMinimizeButton({
    Button = { 
        Image = "rbxassetid://80391833363045", 
        BackgroundTransparency = 0, 
        Size = UDim2.new(0, 55, 0, 55)
    },
    Corner = { 
        CornerRadius = UDim.new(0, 100)
    },
})

local infoTab = Window:MakeTab({ "InformaÃ§oes", "info" })

infoTab:AddDiscordInvite({
    Name = "Lyra Hub",
    Description = "https://discord.gg/YcM2DzZ4TM",
    Logo = "rbxassetid://71841836891247",
    Invite = "https://discord.gg/YcM2DzZ4TM",
})

infoTab:AddSection({ "informaÃ§oes do script" })
infoTab:AddParagraph({ "Roblox Dos Donos: "xxz_sarahh" })
infoTab:AddParagraph({ "vocÃª esta usando:", "Lyra Hub" })

infoTab:AddSection({ "InformaÃ§oes" })

local function createInfoBlock(tab, title, initial)
    local block
    local ok = pcall(function()
        block = tab:AddParagraph({ Title = title, Content = initial })
    end)
    if not ok or not block then
        ok = pcall(function()
            block = tab:AddLabel(title .. (initial and ("\n" .. initial) or ""))
        end)
    end
    return block
end

local function setBlockText(block, title, text)
    if not block then return end
    local ok = pcall(function()
        if block.Set then return block:Set(text) end
        if block.SetDesc then return block:SetDesc(text) end
        if block.SetText then return block:SetText(text) end
        if block.Update then return block:Update(text) end
        if block.Refresh then return block:Refresh(text) end
    end)
    if not ok then
        pcall(function()
            if block.Text ~= nil then
                block.Text = title .. "\n" .. text
            end
        end)
    end
end

local function getCurrentDate()
    local currentTime = os.time()
    return os.date("%d/%m/%Y", currentTime)
end

local Players = game:GetService("Players")
local localPlayer = Players.LocalPlayer

local welcomeBlock = createInfoBlock(infoTab, "Seja Bem Vindo Ao Lyra Hub Hoje E Dia: ", getCurrentDate())
infoTab:AddParagraph({"Seu Nickname: " .. (localPlayer.Name or "Desconhecido")})
infoTab:AddParagraph({"Seu ID: " .. tostring(localPlayer.UserId or 0)})

local gameBlock    = createInfoBlock(infoTab, "Seu Jogo: ", "Carregando...")
local timerBlock   = createInfoBlock(infoTab, "Tempo De Uso Do Script: ", "00:00:00")
local fpsBlock     = createInfoBlock(infoTab, "Seu Fps: ", "FPS: 0")
local playersBlock = createInfoBlock(infoTab, "Quantidade De Pessoas No Server: ", tostring(#Players:GetPlayers()))

local RunService = game:GetService("RunService")
local MarketplaceService = game:GetService("MarketplaceService")

local startClock = os.clock()
local currentFPS = 0
RunService.RenderStepped:Connect(function(dt)
    currentFPS = math.floor(1/dt + 0.5)
end)

local function getCurrentGameName()
    local success, gameInfo = pcall(function()
        return MarketplaceService:GetProductInfo(game.PlaceId)
    end)
    if success and gameInfo and gameInfo.Name then
        return gameInfo.Name
    else
        return "Jogo Desconhecido"
    end
end

task.spawn(function()
    while true do
        task.wait(0.5)
        setBlockText(welcomeBlock, "Seja Bem Vindo Ao Lyra Hub Hoje Ã‰ Dia: ", getCurrentDate())
        local e = os.clock() - startClock
        local h = math.floor(e/3600)
        local m = math.floor((e%3600)/60)
        local s = math.floor(e%60)
        setBlockText(timerBlock, "Tempo De Uso Do Script: ", string.format("%02d:%02d:%02d", h, m, s))
        setBlockText(fpsBlock, "Seu Fps: ", "FPS: " .. tostring(currentFPS))
        setBlockText(playersBlock, "Quantidade De Pessoas No Server: ", tostring(#Players:GetPlayers()))
        setBlockText(gameBlock, "Seu Jogo: ", getCurrentGameName())
    end
end)

local function refreshPlayers()
    setBlockText(playersBlock, "Quantidade De Pessoas No Server: ", tostring(#Players:GetPlayers()))
end
Players.PlayerAdded:Connect(refreshPlayers)
Players.PlayerRemoving:Connect(refreshPlayers)

infoTab:AddParagraph({"Seu Executor: " .. identifyexecutor()})

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local LocalPlayer = Players.LocalPlayer
local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")

LocalPlayer.CharacterAdded:Connect(function(char)
    character = char
    humanoid = char:WaitForChild("Humanoid")
    hrp = char:WaitForChild("HumanoidRootPart")
end)

local RE = ReplicatedStorage:WaitForChild("RE")

local Tab = Window:MakeTab({"Fe Scripts", "rbxassetid://121106070017957"})

Tab:AddButton({
    Name = "Naruto",
    Desc = "Naruto FE.",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/mxskf/Legal/refs/heads/main/Dboas"))()
    end
})

Tab:AddButton({
    Name = "Batman",
    Description = "Batman FE.",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/mxskf/Legal/refs/heads/main/Dboas89"))()
    end
})

Tab:AddButton({
    Name = "Sonic.Exe",
    Description = "Sonic.Exe FE.",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/mxskf/Legal/refs/heads/main/Dboas86"))()
    end
})

Tab:AddButton({
    Title = "Panico",
    Desc = "PÃ¢nico FE",
    Locked = false,
    Callback = function()
       loadstring(game:HttpGet("https://raw.githubusercontent.com/BRENOPOOF/yyyyyyyface/refs/heads/main/Main.txt"))()
    end
})

Tab:AddButton({
    Title = "Morty",
    Desc = "Morty FE",
    Locked = false,
    Callback = function()
       loadstring(game:HttpGet("https://raw.githubusercontent.com/repositoryredzlib/Mortyyyyyy/refs/heads/main/Main.txt"))()
     end
})

Tab:AddButton({
    Title = "Rick Sanchez",
    Desc = "Rick Sanchez FE",
    Locked = false,
    Callback = function()
       loadstring(game:HttpGet("https://raw.githubusercontent.com/BRENOPOOF/rick-Sanchez-/refs/heads/main/Main.txt"))()
  end
})

Tab:AddButton({
    Title = "Cowboy",
    Desc = "Cowboy FE",
    Locked = false,
    Callback = function()
       loadstring(game:HttpGet("https://raw.githubusercontent.com/BRENOPOOF/wjsj/refs/heads/main/Main.txt"))()
    end
})

Tab:AddButton({
    Title = "Guest666 FE",
    Desc = "Guest666 FE",
    Locked = false,
    Callback = function()
       loadstring(game:HttpGet("https://raw.githubusercontent.com/lyrarepositorio-afk/swsw/refs/heads/main/Main.txt"))()
    end
})

Tab:AddButton({
    Title = "Camera De Carro",
    Desc = "carro no roblox kkj",
    Locked = false,
    Callback = function()
loadstring(game:HttpGet("https://raw.githubusercontent.com/repositoryredzlib/Carfling/refs/heads/main/Main.txt"))()
    end
})

Tab:AddButton({
    Title = "Fe vr",
    Desc = "FE VR",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local Players = game:GetService("Players")
        local player = Players.LocalPlayer

        local noobArms = {84451219120140, 72292903231768}

        local function equipNoobArms()
            for _, id in ipairs(noobArms) do
                local success, err = pcall(function()
                    ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Wear"):InvokeServer(id)
                end)
            end
        end

        equipNoobArms()

        task.delay(6, function()
            local success, err = pcall(function()
                loadstring(game:HttpGet("https://raw.githubusercontent.com/randomstring0/Qwerty/refs/heads/main/qwerty45.lua"))()
            end)
        end)
    end
})

Tab:AddButton({
    Title = "Obito",
    Desc = "Obito FE",
    Locked = false,
    Callback = function()
      loadstring(game:HttpGet("https://cdn.authguard.org/virtual-file/c47b8a12ca6c4cef840280dafd893e7d"))()
    end
})

Tab:AddButton({
	Name = "Shadow",
	Desc = "Shadow FE",
	Callback = function()
		pcall(function()
			loadstring(game:HttpGet("https://raw.githubusercontent.com/267266273ffsfs/Shadow/refs/heads/main/Main.txt"))()
		end)
	end
})

Tab:AddButton({
	Name = "Goner",
	Desc = "Executa o Goner fe",
	Callback = function()
		pcall(function()
			loadstring(game:HttpGet("https://raw.githubusercontent.com/lyrarepositorio-afk/GONER/refs/heads/main/Main.txt"))()
		end)
	end
})

Tab:AddButton({
	Name = "Noly",
	Desc = "Noly FE",
	Callback = function()
		pcall(function()
			loadstring(game:HttpGet("https://raw.githubusercontent.com/lyrarepositorio-afk/gubby/refs/heads/main/Main.txt"))()
		end)
	end
})

Tab:AddButton({
	Name = "Tubers",
	Desc = "Tubers FE",
	Callback = function()
		pcall(function()
			loadstring(game:HttpGet("https://raw.githubusercontent.com/BRENOPOOF/1222/refs/heads/main/Main.txt"))()
		end)
	end
})

Tab:AddButton({
    Title = "mÃ£ozinha",
    Desc = "mÃ£ozinha FE",
    Callback = function()
       loadstring(game:HttpGet("https://raw.githubusercontent.com/BRENOPOOF/slafiznotedio/refs/heads/main/Main.txt"))()
    end
})

Tab:AddButton({
    Title = "C00LKIDD",
    Desc = "C00LKIDD FE",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/repositoryredzlib/xzzxsx/refs/heads/main/Main.txt"))()
    end
})

Tab:AddButton({
    Title = "Emote v2",
    Desc = "Emotes FREE",
    Callback = function()
       loadstring(game:HttpGet("https://raw.githubusercontent.com/Gazer-Ha/Free-emote/refs/heads/main/Delta%20mad%20stuffs"))()
    end
})


Tab:AddButton({
	Name = "Herobrine",
	Desc = "Herobrine FE",
	Callback = function()
		pcall(function()
			loadstring(game:HttpGet("https://raw.githubusercontent.com/lyrarepositorio-afk/hEROBRINE/refs/heads/main/Main.txt"))()
		end)
	end
})

Tab:AddButton({
    Name = "John doe",
    Description = "John Doe FE",
    Callback = function()
        pcall(function()
            local ReplicatedStorage = game:GetService("ReplicatedStorage")

            local ChangeBodyColor = ReplicatedStorage.Remotes.ChangeBodyColor
            local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
            local Wear = ReplicatedStorage.Remotes.Wear

            ChangeBodyColor:FireServer("Really black")

            ChangeCharacterBody:InvokeServer({
                0, 0, 0, 0, 0, 0
            })

            Wear:InvokeServer(119700638189201)
            Wear:InvokeServer(82561279414761)
            Wear:InvokeServer(108099676910294)
            Wear:InvokeServer(82861921093234)
            Wear:InvokeServer(124476454384081)
            Wear:InvokeServer(5319900634)
            Wear:InvokeServer(5319909330)
            Wear:InvokeServer(5319922112)
        end)
    end
})

Tab:AddButton({
	Name = "CARTOON CAT",
	Description = "CARTOON CAT FE",
	Callback = function()
		pcall(function()
			loadstring(game:HttpGet("https://raw.githubusercontent.com/lyrarepositorio-afk/cartoon-cat/refs/heads/main/Main.txt"))()
		end)
	end
})

Tab:AddButton({
	Name = "Ominitrix",
	Desc = "Ominitrix FE",
	Callback = function()
		pcall(function()
			loadstring(game:HttpGet("https://raw.githubusercontent.com/267266273ffsfs/Ominitrix/refs/heads/main/Main.txt"))()
		end)
	end
})

Tab:AddButton({
    Title = "Kamui",
    Desc = "Ativa o Kamui (hubzin)",
    Locked = false,
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/267266273ffsfs/kamui/refs/heads/main/Main.txt"))()
    end
})

Tab:AddButton({
    Title = "Jerk",
    Desc = "Jerk FE",
    Locked = false,
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/yeahblxr/Scripts/refs/heads/main/Edge.lua"))()
    end
})

Tab:AddButton({
    Title = "Emotes fe",
    Desc = "Emotes fe :)",
    Locked = false,
    Callback = function()
        loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-AFEM-Max-Open-Alpha-50210"))()
    end
})

Tab:AddButton({
    Title = "Jeff The Killer",
    Desc = "Jeff The Killer FE",
    Locked = false,
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/267266273ffsfs/Jeff/refs/heads/main/Main.txt"))()
    end
})

Tab:AddButton({
    Title = "Minecraft",
    Desc = "Minecraft no roblox kk",
    Locked = false,
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")

        task.spawn(function()
            local WearShirt = ReplicatedStorage.Remotes:FindFirstChild("WearShirt")
            if WearShirt then
                pcall(function()
                    WearShirt:InvokeServer(16512333409)
                end)
            end

            task.wait(0.2)

            local ChangeCharacterBody = ReplicatedStorage.Remotes:FindFirstChild("ChangeCharacterBody")
            if ChangeCharacterBody then
                pcall(function()
                    ChangeCharacterBody:InvokeServer({0, 0, 0, 0, 0, 0})
                end)
            end

            task.wait(0.2)

            local WearPants = ReplicatedStorage.Remotes:FindFirstChild("WearPants")
            if WearPants then
                pcall(function()
                    WearPants:InvokeServer(16512431524)
                end)
            end

            task.wait(0.2)

            local Wear = ReplicatedStorage.Remotes:FindFirstChild("Wear")
            if Wear then
                pcall(function()
                    Wear:InvokeServer(137179147781164)
                end)
            end

            task.wait(0.2)

            local ChangeBodyColor = ReplicatedStorage.Remotes:FindFirstChild("ChangeBodyColor")
            if ChangeBodyColor then
                pcall(function()
                    ChangeBodyColor:FireServer("Dark nougat")
                end)
            end
        end)

        local Players = game:GetService("Players")
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local LocalPlayer = Players.LocalPlayer

        local spawnToolTextures = {
            "rbxassetid://106513645844271",
            "rbxassetid://9267155972",
            "rbxassetid://9267183930",
            "rbxassetid://9359131807",
            "rbxassetid://9277770677",
            "rbxassetid://11547302007",
            "rbxassetid://7341687607",
            "rbxassetid://7696392982",
            "rbxassetid://8677289915",
            "rbxassetid://9184126359",
            "rbxassetid://7901287342",
            "rbxassetid://8677286748",
            "rbxassetid://8677288274"
        }

        local function isSpawnedBlock(part)
            if not part:IsA("Part") then
                return false
            end
            
            for _, decal in ipairs(part:GetChildren()) do
                if decal:IsA("Decal") then
                    for _, textureId in ipairs(spawnToolTextures) do
                        if decal.Texture == textureId then
                            return true
                        end
                    end
                end
            end
            
            if part.Name == "Bloco com Fisica" then
                return true
            end
            
            if part.Size == Vector3.new(3, 3, 3) then
                return true
            end
            
            return false
        end

        local function getTargetBlock(mouse)
            local target = mouse.Target
            if target and target:IsA("BasePart") and isSpawnedBlock(target) then
                return target
            end
        end

        local function createNotification(title, message)
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = title,
                Text = message,
                Duration = 3
            })
        end

        local deleteTool = Instance.new("Tool")
        deleteTool.Name = "Sword goner"
        deleteTool.RequiresHandle = true
        deleteTool.CanBeDropped = true

        local handle = Instance.new("Part")
        handle.Name = "Handle"
        handle.Size = Vector3.new(0.1, 0.1, 0.1)
        handle.Massless = true
        handle.Anchored = false
        handle.CanCollide = false
        handle.Transparency = 0.5
        handle.Color = Color3.fromRGB(255, 0, 0)
        local mesh = Instance.new("SpecialMesh", handle)
        mesh.MeshType = Enum.MeshType.Sphere
        mesh.Scale = Vector3.new(0.05, 0.05, 0.05)
        handle.Parent = deleteTool

        deleteTool.Equipped:Connect(function(mouse)
            local character = deleteTool.Parent
            if character and character:FindFirstChild("Humanoid") and character.Humanoid.RigType == Enum.HumanoidRigType.R15 then
                local args = {12780809235}
                ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Wear"):InvokeServer(unpack(args))

                mouse.Button1Down:Connect(function()
                    local humanoid = character:FindFirstChildOfClass("Humanoid")
                    local animator = humanoid and humanoid:FindFirstChildOfClass("Animator")
                    if animator then
                        local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://2410679501"
                        local track = animator:LoadAnimation(anim)
                        track:Play()
                    end

                    local targetBlock = getTargetBlock(mouse)
                    if targetBlock then
                        targetBlock:Destroy()
                        createNotification("Ã°Å¸â€”â€˜Ã¯Â¸Â Bloco Deletado", "Bloco spawnado removido com sucesso!")
                    else
                        createNotification("Ã°Å¸â€™Â¡ Info", "Clique em um bloco spawnado para deletÃƒÂ¡-lo!")
                    end
                end)

                createNotification("Picareta equipada", "Clique em blocos spawnados para deletÃƒÂ¡-los!")
            end
        end)

        deleteTool.Unequipped:Connect(function()
            local args = {12780809235}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Wear"):InvokeServer(unpack(args))
            createNotification("Picareta Guardada", "Tool desequipado! Visual restaurado.")
        end)

        deleteTool.Parent = LocalPlayer.Backpack

        local function createSpawnTool(textureId, imageId, hasPhysics)
            local tool = Instance.new("Tool")
            tool.Name = ""
            tool.TextureId = textureId
            tool.CanBeDropped = false
            tool.Parent = LocalPlayer.Backpack

            local handle = Instance.new("Part")
            handle.Name = "Handle"
            handle.Size = Vector3.new(1.5, 1.5, 1.5)
            handle.Anchored = false
            handle.CanCollide = false
            handle.Color = Color3.fromRGB(255, 255, 255)
            handle.Parent = tool

            for _, face in ipairs(Enum.NormalId:GetEnumItems()) do
                local decal = Instance.new("Decal")
                decal.Texture = imageId
                decal.Face = face
                decal.Parent = handle
            end

            local mouse = LocalPlayer:GetMouse()

            tool.Activated:Connect(function()
                local pos = mouse.Hit.p
                local part = Instance.new("Part")
                part.Size = Vector3.new(3, 3, 3)
                part.Anchored = not hasPhysics
                part.Position = pos + Vector3.new(0, 1.5, 0)
                part.Parent = workspace
                if hasPhysics then
                    part.CanCollide = true
                    part.Name = "Bloco com FÃƒÂ­sica"
                end
                
                for _, face in ipairs(Enum.NormalId:GetEnumItems()) do
                    local decal = Instance.new("Decal")
                    decal.Texture = imageId
                    decal.Face = face
                    decal.Parent = part
                end
            end)
        end

        local function createSpawnToolWithDifferentTextures(textureId, sideImage, topImage)
            local tool = Instance.new("Tool")
            tool.Name = ""
            tool.TextureId = textureId
            tool.CanBeDropped = false
            tool.Parent = LocalPlayer.Backpack

            local handle = Instance.new("Part")
            handle.Name = "Handle"
            handle.Size = Vector3.new(1.5, 1.5, 1.5)
            handle.Anchored = false
            handle.CanCollide = false
            handle.Color = Color3.fromRGB(255, 255, 255)
            handle.Parent = tool

            for _, face in ipairs(Enum.NormalId:GetEnumItems()) do
                local decal = Instance.new("Decal")
                decal.Texture = sideImage
                decal.Face = face
                decal.Parent = handle
            end

            local mouse = LocalPlayer:GetMouse()

            tool.Activated:Connect(function()
                local pos = mouse.Hit.p
                local part = Instance.new("Part")
                part.Size = Vector3.new(3, 3, 3)
                part.Anchored = true
                part.Position = pos + Vector3.new(0, 1.5, 0)
                part.Parent = workspace
                
                for _, face in ipairs(Enum.NormalId:GetEnumItems()) do
                    local decal = Instance.new("Decal")
                    if face == Enum.NormalId.Top then
                        decal.Texture = topImage
                    else
                        decal.Texture = sideImage
                    end
                    decal.Face = face
                    decal.Parent = part
                end
            end)
        end

        createSpawnTool("rbxassetid://106513645844271", "rbxassetid://106513645844271", false)
        createSpawnToolWithDifferentTextures("rbxassetid://9267155972", "rbxassetid://9267155972", "rbxassetid://9267183930")
        createSpawnTool("rbxassetid://9359131807", "rbxassetid://9359131807", false)
        createSpawnTool("rbxassetid://9277770677", "rbxassetid://9277770677", true)
        createSpawnTool("rbxassetid://11547302007", "rbxassetid://11547302007", false)
        createSpawnTool("rbxassetid://7341687607", "rbxassetid://7341687607", false)
        createSpawnTool("rbxassetid://7696392982", "rbxassetid://7696392982", false)
        createSpawnTool("rbxassetid://8677289915", "rbxassetid://8677289915", false)
        createSpawnTool("rbxassetid://9184126359", "rbxassetid://9184126359", false)
        createSpawnTool("rbxassetid://7901287342", "rbxassetid://7901287342", false)
        createSpawnTool("rbxassetid://8677286748", "rbxassetid://8677286748", false)
        createSpawnTool("rbxassetid://8677288274", "rbxassetid://8677288274", false)
        createSpawnTool("rbxassetid://14934313194", "rbxassetid://14934313194", false)

        local transparentTool = Instance.new("Tool")
        transparentTool.Name = ""
        transparentTool.TextureId = "rbxassetid://14934219909"
        transparentTool.CanBeDropped = false
        transparentTool.Parent = LocalPlayer.Backpack

        local transparentHandle = Instance.new("Part")
        transparentHandle.Name = "Handle"
        transparentHandle.Size = Vector3.new(1.5, 1.5, 1.5)
        transparentHandle.Anchored = false
        transparentHandle.CanCollide = false
        transparentHandle.Transparency = 1
        transparentHandle.Parent = transparentTool

        local transparentImage = "rbxassetid://14934219909"

        for _, face in ipairs(Enum.NormalId:GetEnumItems()) do
            local decal = Instance.new("Decal")
            decal.Texture = transparentImage
            decal.Face = face
            decal.Parent = transparentHandle
        end

        local transparentMouse = LocalPlayer:GetMouse()

        transparentTool.Activated:Connect(function()
            local pos = transparentMouse.Hit.p
            local part = Instance.new("Part")
            part.Size = Vector3.new(3, 3, 3)
            part.Position = pos + Vector3.new(0, 1.5, 0)
            part.Anchored = true
            part.CanCollide = true   
            part.Transparency = 1
            part.Parent = workspace

            for _, face in ipairs(Enum.NormalId:GetEnumItems()) do
                local decal = Instance.new("Decal")
                decal.Texture = transparentImage
                decal.Face = face
                decal.Parent = part
            end
        end)

        createNotification("Minecraft FE", "Script carregado com sucesso! Ferramentas adicionadas ao inventÃƒÂ¡rio.")
    end
})

Tab:AddParagraph({ "os scripts FE foi patched,ent so a skin que e FE e o martelo(ou outros equipamentos)" })

local FunTab = Window:MakeTab({"Fun", "rbxassetid://105212753583689"})


local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local Camera = Workspace.CurrentCamera 
local LocalPlayer = Players.LocalPlayer

local stalkFOVdeg = 160      
local fugaMaxDistancia = 65    
local maxStalkDistance = 65   
local stalkBehindDistance = 2.5 

local destroyed = false
local stalking = false
local viewingTarget = false     
local stalkConn = nil
local viewConn = nil            
local stalkTarget = nil         
local viewTarget = nil          
local selectedPlayer = nil      
local TPToggle = false
local TPTool = nil

local character
local hrp
local hum

local function updateCharacter()
    character = LocalPlayer.Character
    if character then
        hrp = character:WaitForChild("HumanoidRootPart")
        hum = character:FindFirstChildOfClass("Humanoid")
    else
        hrp = nil
        hum = nil
    end
end

updateCharacter()

local function waitForCharacter()
    if not character or not hrp or not hum then
        updateCharacter()
    end
    
    while not character or not hrp or not hum do
        wait(0.1)
        updateCharacter()
    end
end

LocalPlayer.CharacterAdded:Connect(function(newCharacter)
    task.wait(1)
    updateCharacter()
end)

local function pickNearestPlayer()
    waitForCharacter()
    
    local nearestPlayer = nil
    local minDistance = math.huge

    if not hrp then return nil end 

    for _, pl in ipairs(Players:GetPlayers()) do
        if pl ~= LocalPlayer and pl.Character and pl.Character:FindFirstChild("HumanoidRootPart") and pl.Character:FindFirstChildOfClass("Humanoid") and pl.Character:FindFirstChildOfClass("Humanoid").Health > 0 then
            local targetHRP = pl.Character.HumanoidRootPart
            local distance = (hrp.Position - targetHRP.Position).Magnitude

            if distance < minDistance then
                minDistance = distance
                nearestPlayer = pl
            end
        end
    end

    return nearestPlayer
end

local function setStalkerState(isStalking)
    waitForCharacter()
    
    if not character or not hrp then return end

    local transparencyValue = 0 
    local canCollideValue = not isStalking         

    for _, part in ipairs(character:GetDescendants()) do
        if part:IsA("BasePart") or part:IsA("Decal") or part:IsA("SpecialMesh") then
            if part.Name ~= "HumanoidRootPart" then 
                pcall(function() part.LocalTransparencyModifier = transparencyValue end) 
            end
            pcall(function() part.CanCollide = canCollideValue end) 
        elseif part:IsA("Shirt") or part:IsA("Pants") then
            pcall(function() part.Transparency = transparencyValue end)
        end
    end

    if hum then
        hum.PlatformStand = false
    end
end

local function getSafeCFrame(desiredPosition, currentCFrame)
    local TP_CHECK_HEIGHT = 100     
    local TP_RAY_LENGTH = 200       
    
    local rayOrigin = Vector3.new(desiredPosition.X, desiredPosition.Y + TP_CHECK_HEIGHT, desiredPosition.Z)
    local rayDirection = Vector3.new(0, -TP_RAY_LENGTH, 0)

    local rayParams = RaycastParams.new()
    rayParams.FilterType = Enum.RaycastFilterType.Exclude
    rayParams.FilterDescendantsInstances = {character} 

    local rayResult = Workspace:Raycast(rayOrigin, rayDirection, rayParams)

    if rayResult then
        local safeY = rayResult.Position.Y + 2.5 

        local lookVector = currentCFrame.LookVector
        local upVector = currentCFrame.UpVector

        return CFrame.new(desiredPosition.X, safeY, desiredPosition.Z) * CFrame.fromMatrix(Vector3.new(), lookVector, upVector)
    else
        return CFrame.new(desiredPosition.X, desiredPosition.Y, desiredPosition.Z) 
    end
end

local function teleportStalk(desiredCFrame, targetHRP)
    waitForCharacter()
    
    if destroyed or not hrp or not targetHRP then return end

    local targetY = targetHRP.Position.Y
    local finalPosition = Vector3.new(desiredCFrame.X, targetY, desiredCFrame.Z)

    local newCFrame = CFrame.new(finalPosition) * (desiredCFrame - desiredCFrame.Position)

    hrp.CFrame = newCFrame
end

local function stopView()
    if not viewingTarget then return end

    viewingTarget = false
    viewTarget = nil

    if viewConn then
        viewConn:Disconnect()
        viewConn = nil
    end

    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
        Camera.CameraSubject = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
    else
        Camera.CameraType = Enum.CameraType.Custom
    end
end

local function startView(pl)
    waitForCharacter()
    
    if destroyed or not pl or not pl.Character or not hrp then return end

    if viewingTarget then 
        stopView()  
        if viewTarget == pl then return end
    end

    local targHum = pl.Character:FindFirstChildOfClass("Humanoid")
    if not targHum then return end

    viewingTarget = true
    viewTarget = pl

    Camera.CameraSubject = targHum

    if Camera.CameraType == Enum.CameraType.Scriptable then
        Camera.CameraType = Enum.CameraType.Custom
    end
end

local function stalkLoop() end

local function stopStalk()
    if not stalking then return end 

    stalking = false
    stalkTarget = nil

    if character and hum then
        hum.Health = 0
    end

    setStalkerState(false)  

    if stalkConn then
        stalkConn:Disconnect()
        stalkConn = nil
    end
    
    task.wait(2)
    updateCharacter()
end

local function startStalk(pl)
    waitForCharacter()
    
    if destroyed or not pl or not pl.Character or not hrp or not hum then 
        return 
    end

    if stalking and stalkTarget == pl then  
        stopStalk()
        return 
    end

    if stalking and stalkTarget ~= pl then  
        stopStalk() 
    end

    local targHRP = pl.Character:FindFirstChild("HumanoidRootPart")
    local targHum = pl.Character:FindFirstChildOfClass("Humanoid")
    if not (targHRP and targHum and targHum.Health > 0) then 
        return 
    end

    stalking = true
    stalkTarget = pl

    setStalkerState(true)

    local rayParams = RaycastParams.new()
    rayParams.FilterType = Enum.RaycastFilterType.Exclude
    local fovCos = math.cos(math.rad(stalkFOVdeg * 0.5))

    if stalkConn then stalkConn:Disconnect() end

    stalkLoop = function()
        if destroyed or not stalking or not stalkTarget or not stalkTarget.Character or not hrp or not hum then  
            stopStalk() 
            return 
        end
        
        if not character or not character.Parent then
            updateCharacter()
            if not character then
                stopStalk()
                return
            end
        end
        
        targHRP = stalkTarget.Character:FindFirstChild("HumanoidRootPart")
        targHum = stalkTarget.Character:FindFirstChildOfClass("Humanoid")
        if not (targHRP and targHum and targHum.Health > 0) then  
            stopStalk() 
            return 
        end

        local CEILING_CHECK_HEIGHT = 8
        local targetHeadPos = targHRP.Position + Vector3.new(0, 1.5, 0)
        local distance = (hrp.Position - targHRP.Position).Magnitude

        local rayCeilingParams = RaycastParams.new()
        rayCeilingParams.FilterType = Enum.RaycastFilterType.Exclude
        rayCeilingParams.FilterDescendantsInstances = {stalkTarget.Character, character} 

        local rayCeilingResult = Workspace:Raycast(
            targetHeadPos,  
            Vector3.new(0, CEILING_CHECK_HEIGHT, 0),  
            rayCeilingParams
        )

        if rayCeilingResult and distance < maxStalkDistance then
             return
        end

        if distance > maxStalkDistance then
            local desiredCFrame = targHRP.CFrame * CFrame.new(0, 0, stalkBehindDistance)
            teleportStalk(desiredCFrame, targHRP)  
            return
        end

        local lookAtTarget = Vector3.new(targHRP.Position.X, hrp.Position.Y, targHRP.Position.Z)
        local newCFrame = CFrame.new(hrp.Position, lookAtTarget)
        hrp.CFrame = newCFrame

        local dirToMe = hrp.Position - targHRP.Position
        if dirToMe.Magnitude > 0.001 then

            local lookVector = targHRP.CFrame.LookVector
            local targetDirection = dirToMe.Unit 
            local dot = lookVector:Dot(targetDirection)

            if dot >= fovCos then  
                local rayMaxRange = 30  
                if distance > rayMaxRange then return end 

                local headPosition = targHRP.Position + Vector3.new(0, 1.5, 0)  
                local rayDirection = hrp.Position - headPosition

                rayParams.FilterDescendantsInstances = {stalkTarget.Character, character} 

                local rayResult = Workspace:Raycast(headPosition, rayDirection, rayParams)

                local isStalkerHit = rayResult and rayResult.Instance:IsDescendantOf(character)
                local isClearPath = not rayResult

                if isStalkerHit or isClearPath then
                    task.spawn(function()
                        if destroyed or not stalking or not stalkTarget or not stalkTarget.Character or not hrp then return end
                        local currHRP = stalkTarget.Character:FindFirstChild("HumanoidRootPart")
                        if not currHRP then return end

                        pcall(function() stalkConn:Disconnect() end)
                        stalkConn = nil

                        local offset = Vector3.new(math.random(-fugaMaxDistancia, fugaMaxDistancia), 0, math.random(-fugaMaxDistancia, fugaMaxDistancia))
                        local desiredFugaPos = currHRP.Position + offset

                        hrp.CFrame = getSafeCFrame(desiredFugaPos, CFrame.new(desiredFugaPos))

                        setStalkerState(true) 

                        stalkConn = RunService.RenderStepped:Connect(stalkLoop)
                    end)
                    return  
                end
            end
        end
    end

    stalkConn = RunService.RenderStepped:Connect(stalkLoop)
end

local function startRandomStalk()
    waitForCharacter()
    
    if stalking then
        stopStalk()
    else
        local nearest = pickNearestPlayer()

        if not nearest then
            return
        end

        startStalk(nearest)
    end
end

local function toggleClickTP()
    waitForCharacter()
    
    if TPToggle then
        if TPTool then
            TPTool:Destroy()
            TPTool = nil
        end
        TPToggle = false
    else
        local mouse = LocalPlayer:GetMouse()
        local tool = Instance.new("Tool")
        tool.RequiresHandle = false
        tool.Name = "Tp tool(Equip to Click TP)"

        tool.Activated:Connect(function()
            waitForCharacter()
            if destroyed or not hrp then return end 

            local desiredPos = mouse.Hit.Position
            local pos = getSafeCFrame(desiredPos, CFrame.new(desiredPos)) 

            hrp.CFrame = pos
        end)

        tool.AncestryChanged:Connect(function()
            if not tool.Parent or tool.Parent.Name ~= "Backpack" then
                if TPToggle then
                    task.spawn(function()
                        task.wait(0.1)
                        if tool and not tool.Parent then 
                             toggleClickTP() 
                        end
                    end)
                end
            end
        end)

        tool.Parent = LocalPlayer.Backpack
        TPTool = tool
        TPToggle = true
    end
end


FunTab:AddSection({Name = "Selecionar Alvo"})

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:WaitForChild("Remotes")

local selectedPlayerName = nil
local dropdownValue = ""

local function getPlayerList()
    local PlayerNames = {}
    for _, player in ipairs(Players:GetPlayers()) do
        if player.Name ~= LocalPlayer.Name then
            table.insert(PlayerNames, player.Name)
        end
    end
    return PlayerNames
end

local killDropdown = FunTab:AddDropdown({
    Name = "Selecionar Jogador",
    Options = getPlayerList(),
    Default = "",
    Callback = function(value)
        selectedPlayerName = value
        dropdownValue = value
        selectedPlayer = Players:FindFirstChild(value)
    end
})

local function UpdateDropdown()
    local tablePlayers = Players:GetPlayers()
    local newPlayers = {}
    if killDropdown then
        for _, player in ipairs(tablePlayers) do
            if player.Name ~= LocalPlayer.Name then
                table.insert(newPlayers, player.Name)
            end
        end
        killDropdown:Set(newPlayers)
        
        -- Verifica se o jogador selecionado ainda existe
        if selectedPlayerName and not Players:FindFirstChild(selectedPlayerName) then
            selectedPlayerName = nil
            selectedPlayer = nil
            dropdownValue = ""
            killDropdown:SetValue("")
        else
            -- MantÃ©m o valor selecionado
            if selectedPlayerName then
                killDropdown:SetValue(selectedPlayerName)
            end
        end
    end
end

local function UpdateDropdownManual()
    local tablePlayers = Players:GetPlayers()
    local newPlayers = {}
    if killDropdown then
        for _, player in ipairs(tablePlayers) do
            if player.Name ~= LocalPlayer.Name then
                table.insert(newPlayers, player.Name)
            end
        end
        killDropdown:Set(newPlayers)
        
        -- MantÃ©m o valor selecionado se ainda existir
        if selectedPlayerName and Players:FindFirstChild(selectedPlayerName) then
            killDropdown:SetValue(selectedPlayerName)
        else
            selectedPlayerName = nil
            selectedPlayer = nil
            dropdownValue = ""
            killDropdown:SetValue("")
        end
    end
end

Players.PlayerAdded:Connect(function(pl)
    task.wait(0.5)
    UpdateDropdown()
end)

Players.PlayerRemoving:Connect(function(pl)
    UpdateDropdown()
end)

FunTab:AddButton({
    Name = "Atualizar Player List",
    Callback = function()
        UpdateDropdownManual()
    end
})


FunTab:AddSection("Player Controls")

local viewToggle = FunTab:AddToggle({
    Name = "View Player",
    Default = false,
    Callback = function(Value)
        if Value then
            if selectedPlayer then
                startView(selectedPlayer)
            else
                viewToggle:Set(false)
            end
        else
            stopView()
        end
    end
})

local stalkToggle = FunTab:AddToggle({
    Name = "Stalk Player",
    Default = false,
    Callback = function(Value)
        if Value then
            if selectedPlayer then
                startStalk(selectedPlayer)
            else
                stalkToggle:Set(false)
            end
        else
            stopStalk()
        end
    end
})

FunTab:AddButton({
    Name = "Stalk Random Player",
    Callback = function()
        startRandomStalk()
    end
})

FunTab:AddButton({
    Name = "Stop All Modes",
    Callback = function()
        stopStalk()
        stopView()
        viewToggle:Set(false)
        stalkToggle:Set(false)
    end
})

FunTab:AddSection("Teleport Tools")

FunTab:AddButton({
    Name = "Toggle Click TP",
    Callback = function()
        toggleClickTP()
    end
})


FunTab:AddSection("Settings")

FunTab:AddTextBox({
    Name = "FOV Angle",
    Default = tostring(stalkFOVdeg),
    TextDisappear = false,
    Callback = function(Value)
        local num = tonumber(Value)
        if num and num >= 1 and num <= 180 then
            stalkFOVdeg = num
        end
    end
})

FunTab:AddTextBox({
    Name = "Escape Distance",
    Default = tostring(fugaMaxDistancia),
    TextDisappear = false,
    Callback = function(Value)
        local num = tonumber(Value)
        if num and num >= 1 then
            fugaMaxDistancia = num
        end
    end
})

FunTab:AddTextBox({
    Name = "Stalk Distance",
    Default = tostring(maxStalkDistance),
    TextDisappear = false,
    Callback = function(Value)
        local num = tonumber(Value)
        if num and num >= 1 then
            maxStalkDistance = num
        end
    end
})

FunTab:AddTextBox({
    Name = "Behind Distance",
    Default = tostring(stalkBehindDistance),
    TextDisappear = false,
    Callback = function(Value)
        local num = tonumber(Value)
        if num and num >= 1 then
            stalkBehindDistance = num
        end
    end
})


FunTab:AddSection("Skins")

FunTab:AddButton({
    Name = "Apply Stalker Skin",
    Callback = function()
        local args = {
            [1] = "Really black"
        }
        game:GetService("ReplicatedStorage").Remotes.ChangeBodyColor:FireServer(unpack(args))

        pcall(function()
            local args = {
                [1] = {
                    [1] = 0,
                    [2] = 0,
                    [3] = 0,
                    [4] = 0,
                    [5] = 0,
                    [6] = 0
                }
            }

            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))

            local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
            local Humanoid = Character:FindFirstChildOfClass("Humanoid")
            if not Humanoid then return end

            local WearRemote = Remotes:WaitForChild("Wear")
            local WearShirtRemote = Remotes:WaitForChild("WearShirt")
            local WearPantsRemote = Remotes:WaitForChild("WearPants")

            local Desc = Humanoid:GetAppliedDescription()
            for _, accessory in ipairs(Desc:GetAccessories(true)) do
                if accessory.AssetId then
                    WearRemote:InvokeServer(accessory.AssetId)
                end
            end

            local accessoriesToWear = {
                892265784,
                892268340,
                892267099,
                11417785930,
                122067820905006,
                118381289881568,
                6913613757,
                9683332649,
            }
            for _, id in ipairs(accessoriesToWear) do
                pcall(function()
                    WearRemote:InvokeServer(id)
                end)
            end

            local shirtsToWear = {}
            local pantsToWear = {}
            for _, id in ipairs(shirtsToWear) do
                WearShirtRemote:InvokeServer(id)
            end
            for _, id in ipairs(pantsToWear) do
                WearPantsRemote:InvokeServer(id)
            end
        end)
    end
})


coroutine.wrap(function()
    while true do
        wait(1)
        
        local currentChar = LocalPlayer.Character
        if currentChar ~= character then
            updateCharacter()
        end
        
        if selectedPlayer and not selectedPlayer.Parent then
            selectedPlayer = nil
            selectedPlayerName = nil
            dropdownValue = ""
            viewToggle:Set(false)
            stalkToggle:Set(false)
            killDropdown:SetValue("")
            UpdateDropdown()
        end
        
        if not viewingTarget and viewToggle.CurrentValue then
            viewToggle:Set(false)
        end
        if not stalking and stalkToggle.CurrentValue then
            stalkToggle:Set(false)
        end
    end
end)()

UpdateDropdown()

local TabNuke = Window:MakeTab({"Skybox", "cloud"})

TabNuke:AddSection({"Nuke"})

local skyboxEnabled = false
local skyboxTrack = nil
local rigidTrack = nil
local savedNukeBody = {}

local function stopAllAnimations()
    if rigidTrack then
        pcall(function()
            rigidTrack:Stop()
            rigidTrack:Destroy()
        end)
        rigidTrack = nil
    end
    
    if skyboxTrack then
        pcall(function()
            skyboxTrack:Stop()
            skyboxTrack:Destroy()
        end)
        skyboxTrack = nil
    end
    
    local player = game.Players.LocalPlayer
    local character = player.Character
    if character then
        local humanoid = character:FindFirstChild("Humanoid")
        if humanoid then
            local animator = humanoid:FindFirstChild("Animator")
            if animator then
                for _, track in pairs(animator:GetPlayingAnimationTracks()) do
                    if track.Animation then
                        local animId = track.Animation.AnimationId
                        if animId == "rbxassetid://70883871260184" or animId == "rbxassetid://3695333486" then
                            pcall(function()
                                track:Stop()
                            end)
                        end
                    end
                end
            end
        end
    end
end

TabNuke:AddToggle({
    Name = "Nuke",
    Default = false,
    Callback = function(value)
        skyboxEnabled = value
        
        if value then
            local player = game.Players.LocalPlayer
            local character = player.Character
            
            if character then
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    local description = humanoid:GetAppliedDescription()
                    
                    savedNukeBody = {
                        Torso = description.Torso,
                        RightArm = description.RightArm,
                        LeftArm = description.LeftArm,
                        RightLeg = description.RightLeg,
                        LeftLeg = description.LeftLeg,
                        Head = description.Head
                    }
                    
                    task.wait(0.2)
                    
                    local args = {
                        [1] = 123402086843885,
                        [2] = 100839513065432,
                        [3] = 78300682916056,
                        [4] = 86276701020724,
                        [5] = 78409653958165,
                        [6] = 15093053680
                    }
                    
                    pcall(function()
                        game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(args)
                    end)
                    
                    task.wait(0.3)
                    
                    local newAnim = Instance.new("Animation")
                    newAnim.AnimationId = "rbxassetid://70883871260184"
                    
                    skyboxTrack = humanoid:LoadAnimation(newAnim)
                    skyboxTrack.Priority = Enum.AnimationPriority.Action4
                    skyboxTrack:Play(0.1, 1, 0.01)
                    
                    task.wait(0.5)
                    
                    local plankAnim = Instance.new("Animation")
                    plankAnim.AnimationId = "rbxassetid://3695333486"
                    rigidTrack = humanoid:LoadAnimation(plankAnim)
                    rigidTrack.Priority = Enum.AnimationPriority.Movement
                    rigidTrack:Play(0.1, 1, 0)
                end
            end
        else
            stopAllAnimations()
            
            task.wait(0.2)
            
            if next(savedNukeBody) then
                local player = game.Players.LocalPlayer
                local character = player.Character
                
                if character then
                    local humanoid = character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        local restoreBody = {
                            [1] = savedNukeBody.Torso,
                            [2] = savedNukeBody.RightArm,
                            [3] = savedNukeBody.LeftArm,
                            [4] = savedNukeBody.RightLeg,
                            [5] = savedNukeBody.LeftLeg,
                            [6] = savedNukeBody.Head
                        }
                        
                        local args = {
                            [1] = restoreBody
                        }
                        
                        pcall(function()
                            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
                        end)
                        
                        savedNukeBody = {}
                    end
                end
            end
        end
    end
})

local nukeFlashEnabled = false
local nukeFlashTrack = nil
local flashRigidTrack = nil
local savedNukeFlashBody = {}

local function stopFlashAnimations()
    if flashRigidTrack then
        pcall(function()
            flashRigidTrack:Stop()
            flashRigidTrack:Destroy()
        end)
        flashRigidTrack = nil
    end
    
    if nukeFlashTrack then
        pcall(function()
            nukeFlashTrack:Stop()
            nukeFlashTrack:Destroy()
        end)
        nukeFlashTrack = nil
    end
end

TabNuke:AddToggle({
    Name = "Nuke FlashBack",
    Default = false,
    Callback = function(value)
        nukeFlashEnabled = value
        
        if value then
            local player = game.Players.LocalPlayer
            local character = player.Character
            
            if character then
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    local description = humanoid:GetAppliedDescription()
                    
                    savedNukeFlashBody = {
                        Torso = description.Torso,
                        RightArm = description.RightArm,
                        LeftArm = description.LeftArm,
                        RightLeg = description.RightLeg,
                        LeftLeg = description.LeftLeg,
                        Head = description.Head
                    }
                    
                    task.wait(0.2)
                    
                    local args = {
                        [1] = 123402086843885,
                        [2] = 100839513065432,
                        [3] = 78300682916056,
                        [4] = 86276701020724,
                        [5] = 78409653958165,
                        [6] = 15093053680
                    }
                    
                    pcall(function()
                        game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(args)
                    end)
                    
                    task.wait(0.3)
                    
                    local newAnim = Instance.new("Animation")
                    newAnim.AnimationId = "rbxassetid://70883871260184"
                    
                    nukeFlashTrack = humanoid:LoadAnimation(newAnim)
                    nukeFlashTrack.Priority = Enum.AnimationPriority.Action4
                    nukeFlashTrack:Play(0.1, 1, 1)
                    
                    task.wait(0.1)
                    nukeFlashTrack:AdjustSpeed(5)
                    
                    task.wait(0.3)
                    
                    local plankAnim = Instance.new("Animation")
                    plankAnim.AnimationId = "rbxassetid://3695333486"
                    flashRigidTrack = humanoid:LoadAnimation(plankAnim)
                    flashRigidTrack.Priority = Enum.AnimationPriority.Movement
                    flashRigidTrack:Play(0.1, 1, 0)
                end
            end
        else
            stopFlashAnimations()
            
            task.wait(0.2)
            
            if next(savedNukeFlashBody) then
                local player = game.Players.LocalPlayer
                local character = player.Character
                
                if character then
                    local humanoid = character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        local restoreBody = {
                            [1] = savedNukeFlashBody.Torso,
                            [2] = savedNukeFlashBody.RightArm,
                            [3] = savedNukeFlashBody.LeftArm,
                            [4] = savedNukeFlashBody.RightLeg,
                            [5] = savedNukeFlashBody.LeftLeg,
                            [6] = savedNukeFlashBody.Head
                        }
                        
                        local args = {
                            [1] = restoreBody
                        }
                        
                        pcall(function()
                            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
                        end)
                        
                        savedNukeFlashBody = {}
                    end
                end
            end
        end
    end
})

TabNuke:AddSection({"Skybox FE"})

TabNuke:AddDropdown({
    Name = "Camisas",
    Options = {
        "Scary",
        "Hacker",
        "Anonymous"
    },
    Callback = function(Selected)
        local shirtId = nil
        
        if Selected == "Scary" then 
            shirtId = 239959578
        elseif Selected == "Hacker" then 
            shirtId = 9567541545
        elseif Selected == "Anonymous" then 
            shirtId = 733789773
        end
        
        if shirtId then
            local args = {shirtId}
            pcall(function()
                game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("WearShirt"):InvokeServer(unpack(args))
            end)
        end
    end
})

TabNuke:AddTextBox({
    Name = "ID da Camisa",
    PlaceholderText = "Insira o ID da camisa",
    Callback = function(Value)
        local shirtId = tonumber(Value)
        if shirtId then
            local args = {shirtId}
            pcall(function()
                game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("WearShirt"):InvokeServer(unpack(args))
            end)
        end
    end
})

_G.SkyboxActive = _G.SkyboxActive or false
_G.CurrentTrack = _G.CurrentTrack or nil
_G.RigidTrack = _G.RigidTrack or nil
_G.savedBodyParts = _G.savedBodyParts or {}

local SkyboxActive = _G.SkyboxActive
local CurrentTrack = _G.CurrentTrack
local RigidTrack = _G.RigidTrack
local savedBodyParts = _G.savedBodyParts

local function stopSkyboxAnimations()
    if _G.RigidTrack then
        pcall(function()
            _G.RigidTrack:Stop()
            _G.RigidTrack:Destroy()
        end)
        _G.RigidTrack = nil
    end
    
    if _G.CurrentTrack then
        pcall(function()
            _G.CurrentTrack:Stop()
            _G.CurrentTrack:Destroy()
        end)
        _G.CurrentTrack = nil
    end
    
    local player = game.Players.LocalPlayer
    local character = player.Character
    if character then
        local humanoid = character:FindFirstChild("Humanoid")
        if humanoid then
            local animator = humanoid:FindFirstChild("Animator")
            if animator then
                for _, track in pairs(animator:GetPlayingAnimationTracks()) do
                    if track.Animation then
                        local animId = track.Animation.AnimationId
                        if animId == "rbxassetid://70883871260184" or animId == "rbxassetid://3695333486" then
                            pcall(function()
                                track:Stop()
                            end)
                        end
                    end
                end
            end
        end
    end
end

TabNuke:AddToggle({
    Name = "Skybox",
    Default = _G.SkyboxActive or false,
    Callback = function(value)
        _G.SkyboxActive = value
        
        if value then
            local player = game.Players.LocalPlayer
            local character = player.Character
            
            if character then
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    local description = humanoid:GetAppliedDescription()
                    
                    _G.savedBodyParts = {
                        Torso = description.Torso,
                        RightArm = description.RightArm,
                        LeftArm = description.LeftArm,
                        RightLeg = description.RightLeg,
                        LeftLeg = description.LeftLeg,
                        Head = description.Head
                    }
                    
                    task.wait(0.2)
                    
                    local yourBody = {
                        [1] = 100839513065432,
                        [2] = nil,
                        [3] = nil,
                        [4] = nil,
                        [5] = nil,
                        [6] = nil
                    }
                    
                    local args = {
                        [1] = yourBody
                    }
                    
                    pcall(function()
                        game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
                    end)
                    
                    task.wait(0.3)
                    
                    local newAnim = Instance.new("Animation")
                    newAnim.AnimationId = "rbxassetid://70883871260184"
                    
                    _G.CurrentTrack = humanoid:LoadAnimation(newAnim)
                    _G.CurrentTrack.Priority = Enum.AnimationPriority.Action4
                    _G.CurrentTrack:Play(0.1, 1, 0.01)
                    
                    task.wait(0.5)
                    
                    local PlankingId = "rbxassetid://3695333486"
                    local plankAnim = Instance.new("Animation")
                    plankAnim.AnimationId = PlankingId
                    _G.RigidTrack = humanoid:LoadAnimation(plankAnim)
                    _G.RigidTrack.Priority = Enum.AnimationPriority.Movement
                    _G.RigidTrack:Play(0.1, 1, 0)
                end
            end
        else
            stopSkyboxAnimations()
            
            task.wait(0.2)
            
            if next(_G.savedBodyParts) then
                local player = game.Players.LocalPlayer
                local character = player.Character
                
                if character then
                    local humanoid = character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        local restoreBody = {
                            [1] = _G.savedBodyParts.Torso,
                            [2] = _G.savedBodyParts.RightArm,
                            [3] = _G.savedBodyParts.LeftArm,
                            [4] = _G.savedBodyParts.RightLeg,
                            [5] = _G.savedBodyParts.LeftLeg,
                            [6] = _G.savedBodyParts.Head
                        }
                        
                        local args = {
                            [1] = restoreBody
                        }
                        
                        pcall(function()
                            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
                        end)
                        
                        _G.savedBodyParts = {}
                    end
                end
            end
        end
    end
})

local PlayerTab = Window:MakeTab({
    Title = "Player",
    Icon = "rbxassetid://17132521951"
})

PlayerTab:AddSection({ "Movimentos" })

PlayerTab:AddSlider({
    Name = "WalkSpeed",
    Min = 16,
    Max = 500,
    Default = humanoid.WalkSpeed,
    Callback = function(v)
        humanoid.WalkSpeed = v
    end
})

PlayerTab:AddSlider({
    Name = "JumpPower",
    Min = 50,
    Max = 500,
    Default = humanoid.JumpPower,
    Callback = function(v)
        humanoid.JumpPower = v
    end
})

PlayerTab:AddSlider({
    Name = "Gravity",
    Min = 10,
    Max = 500,
    Default = Workspace.Gravity,
    Callback = function(v)
        Workspace.Gravity = v
    end
})

PlayerTab:AddButton({
    Name = "Reset Player Stats",
    Callback = function()
        humanoid.WalkSpeed = 16
        humanoid.JumpPower = 50
        Workspace.Gravity = 196.2
    end
})

local spinning = false
local spinSpeed = 50

PlayerTab:AddSection({ "Spin" })

PlayerTab:AddToggle({
    Name = "Spin",
    Default = false,
    Callback = function(v)
        spinning = v
    end
})

PlayerTab:AddSlider({
    Name = "Spin Speed",
    Min = 1,
    Max = 1000,
    Default = spinSpeed,
    Callback = function(v)
        spinSpeed = v
    end
})

RunService.RenderStepped:Connect(function(dt)
    if spinning and hrp then
        hrp.CFrame *= CFrame.Angles(0, math.rad(spinSpeed * dt), 0)
    end
end)

local noclip = false

PlayerTab:AddToggle({
    Name = "Noclip",
    Default = false,
    Callback = function(v)
        noclip = v
    end
})

RunService.Stepped:Connect(function()
    if noclip and character then
        for _, v in ipairs(character:GetDescendants()) do
            if v:IsA("BasePart") then
                v.CanCollide = false
            end
        end
    end
end)

local infJump = false

PlayerTab:AddToggle({
    Name = "Infinite Jump",
    Default = false,
    Callback = function(v)
        infJump = v
    end
})

UserInputService.JumpRequest:Connect(function()
    if infJump and humanoid then
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

local RGBTab = Window:MakeTab({
    Title = "RGB",
    Icon = "rbxassetid://97889814027474"
})

RGBTab:AddSection({ "ÃREA RGB" })

local rgbSpeed = 3

RGBTab:AddTextBox({
    Name = "Velocidade RGB",
    Desc = "Escolha uma Velocidade Para O RGB",
    Default = tostring(rgbSpeed),
    TextDisappear = false,
    Callback = function(v)
        local n = tonumber(v)
        if n and n > 0 then
            rgbSpeed = n
        end
    end
})

local function startRGBLoop(flagFunc, actionFunc, delayTime)
    task.spawn(function()
        while flagFunc() do
            local color = Color3.fromHSV((tick() * rgbSpeed % 5) / 5, 1, 1)
            pcall(function()
                actionFunc(color)
            end)
            task.wait(delayTime)
        end
    end)
end

local rgbNome = false
local rgbBio = false
local rgbCasa = false
local rgbCarro = false

RGBTab:AddToggle({
    Name = "Nome RGB",
    Desc = "Nome RGB",
    Default = false,
    Callback = function(v)
        rgbNome = v
        if v then
            startRGBLoop(function() return rgbNome end, function(color)
                RE["1RPNam1eColo1r"]:FireServer("PickingRPNameColor", color)
            end, 0.03)
        end
    end
})

RGBTab:AddToggle({
    Name = "Bio RGB",
    Desc = "Bio RGB",
    Default = false,
    Callback = function(v)
        rgbBio = v
        if v then
            startRGBLoop(function() return rgbBio end, function(color)
                RE["1RPNam1eColo1r"]:FireServer("PickingRPBioColor", color)
            end, 0.03)
        end
    end
})

RGBTab:AddToggle({
    Name = "RGB Casa",
    Default = false,
    Callback = function(v)
        rgbCasa = v
        if v then
            startRGBLoop(function() return rgbCasa end, function(color)
                RE["1Player1sHous1e"]:FireServer("ColorPickHouse", color)
            end, 0.1)
        end
    end
})

RGBTab:AddToggle({
    Name = "Carro RGB",
    Desc = " Carro RGB",
    Default = false,
    Callback = function(v)
        rgbCarro = v
        if v then
            startRGBLoop(function() return rgbCarro end, function(color)
                RE["1Player1sCa1r"]:FireServer("PickingCarColor", color)
            end, 0.05)
        end
    end
})

local CarTab = Window:MakeTab({"Veiculo", "car"})

CarTab:AddSection("Decal Pneu")

local CurrentDecal = ""
local CurrentVehicleUUID = nil

local function ApplyDecal(decalId)
    if not CurrentVehicleUUID then return end
    
    local formattedDecal = "http://www.roblox.com/asset/?id=" .. decalId
    
    pcall(function()
        local Remote = game:GetService("ReplicatedStorage").Remotes.SuspensionHeightChanged
        firesignal(Remote.OnClientEvent, CurrentVehicleUUID)
        
        game:GetService("ReplicatedStorage").Remotes.ApplyStateToVehicle:InvokeServer(
            CurrentVehicleUUID,
            {
                ["Lights"] = {
                    ["hazardsActive"] = false,
                    ["lightsOn"] = false,
                },
                ["IsLocked"] = false,
                ["Appearance"] = {
                    ["IsSmoking"] = false,
                    ["SuspensionHeight"] = 1.1,
                    ["BabyCarSeatInstalledNumber"] = 0,
                    ["IsOnFire"] = false,
                    ["WheelDecal"] = formattedDecal,
                },
                ["Performance"] = {
                    ["Turbo"] = 0,
                    ["MaxSpeed"] = 25,
                    ["DriftStrength"] = 1,
                },
                ["Owner"] = game:GetService("Players").LocalPlayer,
            }
        )
    end)
end

game:GetService("ReplicatedStorage").Remotes.PlayerSpawnedVehicle.OnClientEvent:Connect(function(data)
    if data and data.uuid then
        CurrentVehicleUUID = data.uuid
    end
end)

CarTab:AddTextBox({
    Name = "Decal",
    Description = "ID do decal",
    Default = "",
    PlaceholderText = "Lyra",
    ClearText = false,
    Callback = function(text)
        if text and text:gsub(" ", ""):len() > 0 then
            local cleanId = text:match("%d+")
            if cleanId then
                CurrentDecal = cleanId
            end
        end
    end
})

CarTab:AddButton({
    Name = "Aplicar",
    Callback = function()
        if CurrentDecal and CurrentDecal:len() > 0 then
            ApplyDecal(CurrentDecal)
        end
    end
})

local spammingHeadLights = false
local spammingHazardLights = false
local spammingHorn = false

local ReplicatedStorage = game:GetService("ReplicatedStorage")

local function spamHeadLights()
    while spammingHeadLights do
        ReplicatedStorage.Remotes.ToggleHeadLights:InvokeServer()
        wait(0.1)
    end
end

local function spamHazardLights()
    while spammingHazardLights do
        ReplicatedStorage.Remotes.ToggleHazardLights:InvokeServer()
        wait(0.1)
    end
end

local function spamPlayHorn()
    while spammingHorn do
        ReplicatedStorage.Remotes.PlayHorn:InvokeServer()
        wait(0.1)
    end
end

CarTab:AddSection({ "Spams" })

CarTab:AddToggle({
    Name = "Spam HeadLights",
    Default = false,
    Callback = function(value)
        spammingHeadLights = value
        if spammingHeadLights then
            spawn(spamHeadLights)
        else
            wait(0.2)
            ReplicatedStorage.Remotes.ToggleHeadLights:InvokeServer()
        end
    end
})

CarTab:AddToggle({
    Name = "Spam HazardLights",
    Default = false,
    Callback = function(value)
        spammingHazardLights = value
        if spammingHazardLights then
            spawn(spamHazardLights)
        else
            wait(0.2)
            ReplicatedStorage.Remotes.ToggleHazardLights:InvokeServer()
        end
    end
})

CarTab:AddToggle({
    Name = "Spam Horn",
    Default = false,
    Callback = function(value)
        spammingHorn = value
        if spammingHorn then
            spawn(spamPlayHorn)
        else
            ReplicatedStorage.Remotes.StopHorn:InvokeServer()
        end
    end
})

CarTab:AddSection({ "Speed Car & Turbo" })

local speedValue = 200
local turboValue = 11.3

local function getAllCars()
    local cars = {}
    if workspace.Vehicles then
        for _, vehicle in pairs(workspace.Vehicles:GetChildren()) do
            if vehicle:FindFirstChild("Seats") and vehicle.Seats:FindFirstChild("VehicleSeat") then
                table.insert(cars, vehicle)
            end
        end
    end
    return cars
end

local function applyToAllCars(valueType, value)
    local cars = getAllCars()
    local carsModified = 0
    
    if #cars == 0 then
        return
    end
    
    for _, vehicle in pairs(cars) do
        local vehicleSeat = vehicle.Seats.VehicleSeat
        
        local targetObj = vehicleSeat:FindFirstChild(valueType)
        
        if targetObj then
            if targetObj:IsA("NumberValue") then
                targetObj.Value = value
                carsModified = carsModified + 1
            elseif targetObj:IsA("IntValue") then
                targetObj.Value = value
                carsModified = carsModified + 1
            elseif targetObj:IsA("StringValue") then
                targetObj.Value = tostring(value)
                carsModified = carsModified + 1
            else
                pcall(function()
                    targetObj.Value = value
                    carsModified = carsModified + 1
                end)
            end
        else
            local success = pcall(function()
                if valueType == "MaxSpeed" then
                    vehicleSeat.MaxSpeed = value
                elseif valueType == "Turbo" then
                    vehicleSeat.Turbo = value
                end
                carsModified = carsModified + 1
            end)
        end
    end
end

CarTab:AddTextBox({
    Name = "Velocidade MaxSpeed",
    Description = "Digite o valor da velocidade mÃ¡xima",
    PlaceholderText = "200",
    Callback = function(Value)
        local numValue = tonumber(Value)
        if numValue then
            speedValue = numValue
        end
    end
})

CarTab:AddTextBox({
    Name = "Potencia Turbo",
    Description = "Digite o valor do turbo",
    PlaceholderText = "11.3",
    Callback = function(Value)
        local numValue = tonumber(Value)
        if numValue then
            turboValue = numValue
        end
    end
})

CarTab:AddButton({
    Name = "Aplicar Velocidade",
    Description = "Aplica a velocidade em todos os carros",
    Callback = function()
        applyToAllCars("MaxSpeed", speedValue)
    end
})

CarTab:AddButton({
    Name = "Aplicar Turbo",
    Description = "Aplica o turbo em todos os carros",
    Callback = function()
        applyToAllCars("Turbo", turboValue)
    end
})

local RGBSection = CarTab:AddSection({"Car RGB"})

CarTab:AddToggle({
    Name = "Car RGB",
    Default = false,
    Callback = function(state)
        isColorChanging = state
        if isColorChanging then
            colorChangeCoroutine = coroutine.create(changeCarColor)
            coroutine.resume(colorChangeCoroutine)
        end
    end
})


_G.hubCarregando = true
_G.togglesInicializadas = {}

spawn(function()

    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local Remotes = ReplicatedStorage:WaitForChild("Remotes", 10)
    
    if Remotes then
        local ResetRemote = Remotes:WaitForChild("ResetCharacterAppearance", 10)
        
        if ResetRemote then

            local ResetOriginal = ResetRemote.FireServer
            ResetRemote.FireServer = function(...)
                if _G.hubCarregando then
                    return -- Bloqueia reset durante carregamento
                end
                return ResetOriginal(...)
            end
        end
    end
    

    wait(3)
    _G.hubCarregando = false
end)

local Tab = Window:MakeTab({"Avatar", "rbxassetid://10734952036"})

Tab:AddSection({ Name = "Copiar Skin" })

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:WaitForChild("Remotes")

local LocalPlayer = Players.LocalPlayer
local selectedPlayerName = nil


local function getPlayerList()
    local PlayerNames = {}
    for _, player in ipairs(Players:GetPlayers()) do
        if player.Name ~= LocalPlayer.Name then
            table.insert(PlayerNames, player.Name)
        end
    end
    return PlayerNames
end

local killDropdown = Tab:AddDropdown({
    Name = "Selecionar Jogador",
    Options = getPlayerList(),
    Default = "", -- Estado inicial vazio (mostra "..." ou equivalente)
    Callback = function(value)
        selectedPlayerName = value
        getgenv().Target = value
        print("Jogador selecionado: " .. tostring(value))
    end
})

local function UpdateDropdown()
    local tablePlayers = Players:GetPlayers()
    local newPlayers = {}
    if killDropdown then
        for _, player in ipairs(tablePlayers) do
            if player.Name ~= LocalPlayer.Name then
                table.insert(newPlayers, player.Name)
            end
        end
        killDropdown:Set(newPlayers)

        selectedPlayerName = nil
        getgenv().Target = nil
        killDropdown:SetValue("") -- Define o dropdown como vazio ("..." ou equivalente)
        print("Lista de jogadores atualizada: ", table.concat(newPlayers, ", "))
        if #newPlayers == 0 then
            print("Nenhum jogador disponÃ­vel (exceto vocÃª).")
        end
    else
        print("Erro: Dropdown nÃ£o encontrado.")
    end
end


Players.PlayerAdded:Connect(UpdateDropdown)
Players.PlayerRemoving:Connect(UpdateDropdown)


Tab:AddButton({
    Name = "Atualizar Player List",
    Callback = function()
        local tablePlayers = Players:GetPlayers()
        local newPlayers = {}
        if killDropdown then
            for _, player in ipairs(tablePlayers) do
                if player.Name ~= LocalPlayer.Name then
                    table.insert(newPlayers, player.Name)
                end
            end
            killDropdown:Set(newPlayers)
            selectedPlayerName = nil
            getgenv().Target = nil
            killDropdown:SetValue("") -- Define o dropdown como vazio ("..." ou equivalente)
            print("Lista de jogadores atualizada manualmente: ", table.concat(newPlayers, ", "))
            print("SeleÃ§Ã£o resetada ao atualizar a lista.")
            if #newPlayers == 0 then
                print("Nenhum jogador disponÃ­vel (exceto vocÃª).")
            end
        else
            print("Erro: Dropdown nÃ£o encontrado.")
        end
    end
})

Tab:AddButton({
    Name = "Copiar Avatar",
    Callback = function()
        if not Target then return end

        local LP = Players.LocalPlayer
        local LChar = LP.Character
        local TPlayer = Players:FindFirstChild(Target)

        if TPlayer and TPlayer.Character then
            local LHumanoid = LChar and LChar:FindFirstChildOfClass("Humanoid")
            local THumanoid = TPlayer.Character:FindFirstChildOfClass("Humanoid")

            if LHumanoid and THumanoid then
                -- RESETAR LOCALPLAYER
                local LDesc = LHumanoid:GetAppliedDescription()

                -- Remover acessÃƒÂ³rios, roupas e face atuais
                for _, acc in ipairs(LDesc:GetAccessories(true)) do
                    if acc.AssetId and tonumber(acc.AssetId) then
                        Remotes.Wear:InvokeServer(tonumber(acc.AssetId))
                        task.wait(0.2)
                    end
                end

                if tonumber(LDesc.Shirt) then
                    Remotes.Wear:InvokeServer(tonumber(LDesc.Shirt))
                    task.wait(0.2)
                end

                if tonumber(LDesc.Pants) then
                    Remotes.Wear:InvokeServer(tonumber(LDesc.Pants))
                    task.wait(0.2)
                end

                if tonumber(LDesc.Face) then
                    Remotes.Wear:InvokeServer(tonumber(LDesc.Face))
                    task.wait(0.2)
                end


                local PDesc = THumanoid:GetAppliedDescription()


                local argsBody = {
                    [1] = {
                        [1] = PDesc.Torso,
                        [2] = PDesc.RightArm,
                        [3] = PDesc.LeftArm,
                        [4] = PDesc.RightLeg,
                        [5] = PDesc.LeftLeg,
                        [6] = PDesc.Head
                    }
                }
                Remotes.ChangeCharacterBody:InvokeServer(unpack(argsBody))
                task.wait(0.5)

                if tonumber(PDesc.Shirt) then
                    Remotes.Wear:InvokeServer(tonumber(PDesc.Shirt))
                    task.wait(0.3)
                end

                if tonumber(PDesc.Pants) then
                    Remotes.Wear:InvokeServer(tonumber(PDesc.Pants))
                    task.wait(0.3)
                end

                if tonumber(PDesc.Face) then
                    Remotes.Wear:InvokeServer(tonumber(PDesc.Face))
                    task.wait(0.3)
                end

                for _, v in ipairs(PDesc:GetAccessories(true)) do
                    if v.AssetId and tonumber(v.AssetId) then
                        Remotes.Wear:InvokeServer(tonumber(v.AssetId))
                        task.wait(0.3)
                    end
                end

                local SkinColor = TPlayer.Character:FindFirstChild("Body Colors")
                if SkinColor then
                    Remotes.ChangeBodyColor:FireServer(tostring(SkinColor.HeadColor))
                    task.wait(0.3)
                end

                if tonumber(PDesc.IdleAnimation) then
                    Remotes.Wear:InvokeServer(tonumber(PDesc.IdleAnimation))
                    task.wait(0.3)
                end


                local Bag = TPlayer:FindFirstChild("PlayersBag")
                if Bag then
                    if Bag:FindFirstChild("RPName") and Bag.RPName.Value ~= "" then
                        Remotes.RPNameText:FireServer("RolePlayName", Bag.RPName.Value)
                        task.wait(0.3)
                    end
                    if Bag:FindFirstChild("RPBio") and Bag.RPBio.Value ~= "" then
                        Remotes.RPNameText:FireServer("RolePlayBio", Bag.RPBio.Value)
                        task.wait(0.3)
                    end
                    if Bag:FindFirstChild("RPNameColor") then
                        Remotes.RPNameColor:FireServer("PickingRPNameColor", Bag.RPNameColor.Value)
                        task.wait(0.3)
                    end
                    if Bag:FindFirstChild("RPBioColor") then
                        Remotes.RPNameColor:FireServer("PickingRPBioColor", Bag.RPBioColor.Value)
                        task.wait(0.3)
                    end
                end
            end
        end
    end
})

Tab:AddSection({ "Partes do Corpo:" })


_G.selectedParts = {
    Torso = nil,
    BracoDireito = nil,
    BracoEsquerdo = nil,
    PernaDireita = nil,
    PernaEsquerda = nil,
    Cabeca = nil
}


Tab:AddTextBox({
    Name = "Tronco",
    Description = "ID do Tronco",
    PlaceholderText = "Lyra",
    TextSize = 16,
    FontSize = 16,
    Callback = function(Value)
        if Value == "" then
            _G.selectedParts.Torso = nil
            print("Tronco: vazio")
        else
            local id = tonumber(Value) or 0
            _G.selectedParts.Torso = id
            print("Tronco: " .. id)
        end
    end
})


Tab:AddTextBox({
    Name = "BraÃ§o Direito",
    Description = "ID do BraÃ§o Direito",
    PlaceholderText = "Lyra",
    TextSize = 16,
    FontSize = 16,
    Callback = function(Value)
        if Value == "" then
            _G.selectedParts.BracoDireito = nil
            print("BraÃ§o Direito: vazio")
        else
            local id = tonumber(Value) or 0
            _G.selectedParts.BracoDireito = id
            print("BraÃ§o Direito: " .. id)
        end
    end
})


Tab:AddTextBox({
    Name = "BraÃ§o Esquerdo",
    Description = "ID do BraÃ§o Esquerdo",
    PlaceholderText = "Lyra",
    TextSize = 16,
    FontSize = 16,
    Callback = function(Value)
        if Value == "" then
            _G.selectedParts.BracoEsquerdo = nil
            print("BraÃ§o Esquerdo: vazio")
        else
            local id = tonumber(Value) or 0
            _G.selectedParts.BracoEsquerdo = id
            print("BraÃ§o Esquerdo: " .. id)
        end
    end
})


Tab:AddTextBox({
    Name = "Perna Direita",
    Description = "ID da Perna Direita",
    PlaceholderText = "Lyra",
    TextSize = 16,
    FontSize = 16,
    Callback = function(Value)
        if Value == "" then
            _G.selectedParts.PernaDireita = nil
            print("Perna Direita: vazio")
        else
            local id = tonumber(Value) or 0
            _G.selectedParts.PernaDireita = id
            print("Perna Direita: " .. id)
        end
    end
})


Tab:AddTextBox({
    Name = "Perna Esquerda",
    Description = "ID da Perna Esquerda",
    PlaceholderText = "Lyra",
    TextSize = 16,
    FontSize = 16,
    Callback = function(Value)
        if Value == "" then
            _G.selectedParts.PernaEsquerda = nil
            print("Perna Esquerda: vazio")
        else
            local id = tonumber(Value) or 0
            _G.selectedParts.PernaEsquerda = id
            print("Perna Esquerda: " .. id)
        end
    end
})

Tab:AddTextBox({
    Name = "CabeÃ§a",
    Description = "ID da CabeÃ§a",
    PlaceholderText = "Lyra",
    TextSize = 16,
    FontSize = 16,
    Callback = function(Value)
        if Value == "" then
            _G.selectedParts.Cabeca = nil
            print("CabeÃ§a: vazio")
        else
            local id = tonumber(Value) or 0
            _G.selectedParts.Cabeca = id
            print("CabeÃ§a: " .. id)
        end
    end
})

Tab:AddSection({ "Carregar Partes:" })


_G.parteSelecionada = "Tronco"


Tab:AddDropdown({
    Name = "Selecionar Parte",
    Description = "Escolha qual parte equipar",
    Default = "Tronco",
    Options = {"Tronco", "BraÃ§o Direito", "BraÃ§o Esquerdo", "Perna Direita", "Perna Esquerda", "CabeÃ§a"},
    Callback = function(Value)
        _G.parteSelecionada = Value
        print("Parte selecionada: " .. Value)
    end
})


Tab:AddButton({
    Name = "Equipar Parte Selecionada",
    Description = "Equipa apenas a parte escolhida no dropdown",
    Callback = function()
        local args = {
            [1] = {
                [1] = 0, -- Torso
                [2] = 0, -- Right Arm
                [3] = 0, -- Left Arm
                [4] = 0, -- Right Leg
                [5] = 0, -- Left Leg
                [6] = 0  -- Head
            }
        }
        
        if _G.parteSelecionada == "Tronco" and _G.selectedParts.Torso then
            args[1][1] = _G.selectedParts.Torso
            print("Equipando Tronco: " .. _G.selectedParts.Torso)
        elseif _G.parteSelecionada == "BraÃ§o Direito" and _G.selectedParts.BracoDireito then
            args[1][2] = _G.selectedParts.BracoDireito
            print("Equipando BraÃ§o Direito: " .. _G.selectedParts.BracoDireito)
        elseif _G.parteSelecionada == "BraÃ§o Esquerdo" and _G.selectedParts.BracoEsquerdo then
            args[1][3] = _G.selectedParts.BracoEsquerdo
            print("Equipando BraÃ§o Esquerdo: " .. _G.selectedParts.BracoEsquerdo)
        elseif _G.parteSelecionada == "Perna Direita" and _G.selectedParts.PernaDireita then
            args[1][4] = _G.selectedParts.PernaDireita
            print("Equipando Perna Direita: " .. _G.selectedParts.PernaDireita)
        elseif _G.parteSelecionada == "Perna Esquerda" and _G.selectedParts.PernaEsquerda then
            args[1][5] = _G.selectedParts.PernaEsquerda
            print("Equipando Perna Esquerda: " .. _G.selectedParts.PernaEsquerda)
        elseif _G.parteSelecionada == "CabeÃ§a" and _G.selectedParts.Cabeca then
            args[1][6] = _G.selectedParts.Cabeca
            print("Equipando CabeÃ§a: " .. _G.selectedParts.Cabeca)
        else
            print("Erro: " .. _G.parteSelecionada .. " esta vazia! Digite um ID primeiro.")
            return
        end
        
        pcall(function()
            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
        end)
    end
})

Tab:AddButton({
    Name = "Carregar Todas as Partes",
    Description = "Equipa todas as partes digitadas de uma vez",
    Callback = function()

        local temAlgumaParteSelecionada = _G.selectedParts.Torso or _G.selectdParts.BracoDireito or 
                                         _G.selectedParts.BracoEsquerdo or _G.selectedParts.PernaDireita or 
                                         _G.selectedParts.PernaEsquerda or _G.selectedParts.Cabeca
        
        if not temAlgumaParteSelecionada then
            print("Erro: Nenhuma parte foi selecionada! Digite pelo menos um ID.")
            return
        end
        
        local args = {
            [1] = {
                [1] = _G.selectedParts.Torso or 0,
                [2] = _G.selectedParts.BracoDireito or 0,
                [3] = _G.selectedParts.BracoEsquerdo or 0,
                [4] = _G.selectedParts.PernaDireita or 0,
                [5] = _G.selectedParts.PernaEsquerda or 0,
                [6] = _G.selectedParts.Cabeca or 0
            }
        }
        
        if _G.selectedParts.Torso then print("Tronco: " .. _G.selectedParts.Torso) end
        if _G.selectedParts.BracoDireito then print("BraÃ§o Direito: " .. _G.selectedParts.BracoDireito) end
        if _G.selectedParts.BracoEsquerdo then print("BraÃ§o Esquerdo: " .. _G.selectedParts.BracoEsquerdo) end
        if _G.selectedParts.PernaDireita then print("Perna Direita: " .. _G.selectedParts.PernaDireita) end
        if _G.selectedParts.PernaEsquerda then print("Perna Esquerda: " .. _G.selectedParts.PernaEsquerda) end
        if _G.selectedParts.Cabeca then print("CabeÃ§a: " .. _G.selectedParts.Cabeca) end
        
        pcall(function()
            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
        end)
    end
})

Tab:AddSection({ "Outros:" })


Tab:AddButton({
    Name = "Resetar Personagem",
    Description = "Reset completo do personagem",
    Callback = function()
        pcall(function()
            game:GetService("ReplicatedStorage").Remotes.ResetCharacterAppearance:FireServer()
        end)
        print("Personagem resetado completamente!")
    end
})



Tab:AddSection({ "FE:" })


Tab:AddDropdown({
    Name = "Fire Colors",
    Description = "Select the <font color='rgb(255, 100, 100)'>Fire Color</font>",
    Options = {"White", "Orange", "Green", "Blue", "Purple", "Black"},
    Default = "White",
    Flag = "fire_color_dropdown",
    Callback = function(Value)
        -- Tabela com as cores e seus respectivos IDs e cÃ³digos
        local fireColors = {
            ["White"] = {
                id = "18637074370",
                code = "030FireWhite"
            },
            ["Orange"] = {
                id = "18637025451", 
                code = "031FireOrange"
            },
            ["Green"] = {
                id = "18637078598",
                code = "032FireGreen"
            },
            ["Blue"] = {
                id = "18637076370",
                code = "033FireBlue"
            },
            ["Purple"] = {
                id = "18637070174",
                code = "034FirePurple"
            },
            ["Black"] = {
                id = "18637072603",
                code = "035FireBlack"
            }
        }
        
        _G.selectedColor = Value
        print("Cor selecionada: " .. Value)
    end
})


Tab:AddButton({
    Name = "Equip Fire Color",
    Callback = function()
        -- Tabela com as cores e seus respectivos IDs e cÃ³digos
        local fireColors = {
            ["White"] = {
                id = "18637074370",
                code = "030FireWhite"
            },
            ["Orange"] = {
                id = "18637025451", 
                code = "031FireOrange"
            },
            ["Green"] = {
                id = "18637078598",
                code = "032FireGreen"
            },
            ["Blue"] = {
                id = "18637076370",
                code = "033FireBlue"
            },
            ["Purple"] = {
                id = "18637070174",
                code = "034FirePurple"
            },
            ["Black"] = {
                id = "18637072603",
                code = "035FireBlack"
            }
        }
        
        local selectedColor = _G.selectedColor or "White"
        
        if selectedColor and fireColors[selectedColor] then
            local colorData = fireColors[selectedColor]
            
            local args = {
                [1] = colorData.id,
                [2] = colorData.code
            }
            
            -- Aplica o emmiter com a cor selecionada
            game:GetService("ReplicatedStorage").Remotes.ApplyEmmiter:InvokeServer(unpack(args))
            
            print("Equipado: " .. selectedColor .. " Fire")
        else
            warn("Erro: Cor nÃ£o encontrada!")
        end
    end
})


Tab:AddDropdown({
    Name = "Smoke Colors",
    Description = "Select the <font color='rgb(150, 150, 150)'>Smoke Color</font>",
    Options = {"White", "Yellow", "Orange", "Green", "Blue", "Purple", "Red", "Black"},
    Default = "White",
    Flag = "smoke_color_dropdown",
    Callback = function(Value)
        -- Tabela com as cores de smoke e seus respectivos IDs e cÃ³digos
        local smokeColors = {
            ["White"] = {
                id = "18637791748",
                code = "080SmokeWhite"
            },
            ["Yellow"] = {
                id = "18637800482",
                code = "081SmokeYellow"
            },
            ["Orange"] = {
                id = "18637793920",
                code = "082SmokeOrange"
            },
            ["Green"] = {
                id = "18637789299",
                code = "083SmokeGreen"
            },
            ["Blue"] = {
                id = "18637803021",
                code = "084SmokeBlue"
            },
            ["Purple"] = {
                id = "18637813360",
                code = "085SmokePurple"
            },
            ["Red"] = {
                id = "18637796598",
                code = "086SmokeRed"
            },
            ["Black"] = {
                id = "18637798529",
                code = "087SmokeBlack"
            }
        }
        
        _G.selectedSmokeColor = Value
        print("Cor de smoke selecionada: " .. Value)
    end
})


Tab:AddButton({
    Name = "Equip Smoke Color",
    Callback = function()
        -- Tabela com as cores de smoke e seus respectivos IDs e cÃ³digos
        local smokeColors = {
            ["White"] = {
                id = "18637791748",
                code = "080SmokeWhite"
            },
            ["Yellow"] = {
                id = "18637800482",
                code = "081SmokeYellow"
            },
            ["Orange"] = {
                id = "18637793920",
                code = "082SmokeOrange"
            },
            ["Green"] = {
                id = "18637789299",
                code = "083SmokeGreen"
            },
            ["Blue"] = {
                id = "18637803021",
                code = "084SmokeBlue"
            },
            ["Purple"] = {
                id = "18637813360",
                code = "085SmokePurple"
            },
            ["Red"] = {
                id = "18637796598",
                code = "086SmokeRed"
            },
            ["Black"] = {
                id = "18637798529",
                code = "087SmokeBlack"
            }
        }
        
        local selectedSmokeColor = _G.selectedSmokeColor or "White"
        
        if selectedSmokeColor and smokeColors[selectedSmokeColor] then
            local colorData = smokeColors[selectedSmokeColor]
            
            local args = {
                [1] = colorData.id,
                [2] = colorData.code
            }
            
            -- Aplica o emmiter com a cor de smoke selecionada
            game:GetService("ReplicatedStorage").Remotes.ApplyEmmiter:InvokeServer(unpack(args))
            
            print("Equipado: " .. selectedSmokeColor .. " Smoke")
        else
            warn("Erro: Cor de smoke nÃ£o encontrada!")
        end
    end
})


if not _G.togglesInicializadas then
    _G.togglesInicializadas = {}
end

Tab:AddToggle({
    Name = "Small",
    Description = "",
    Default = false,
    Flag = "custom_body_toggle",
    Callback = function(Value)
        if not _G.togglesInicializadas["Small"] then
            _G.togglesInicializadas["Small"] = true
            return
        end
        
        local customBody = {
            [1] = 104157277410075,
            [2] = 86280536086607,
            [3] = 81974054542977,
            [4] = 74524984742501,
            [5] = 122626731952977,
            [6] = 134082579
        }
        
        if Value then
            local args = {[1] = customBody}
            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
        else
            game:GetService("ReplicatedStorage").Remotes.ResetCharacterAppearance:FireServer()
        end
    end
})

Tab:AddToggle({
    Name = "Giant Avatar",
    Description = "",
    Default = false,
    Flag = "custom_body_v2_toggle",
    Callback = function(Value)
        if not _G.togglesInicializadas["Giant"] then
            _G.togglesInicializadas["Giant"] = true
            return
        end
        
        local customBodyV2 = {
            [1] = 17713016036,
            [2] = 17713016151,
            [3] = 17713015861,
            [4] = 17713021340,
            [5] = 17713016191,
            [6] = 6340213
        }
        
        if Value then
            local args = {[1] = customBodyV2}
            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
        else
            game:GetService("ReplicatedStorage").Remotes.ResetCharacterAppearance:FireServer()
        end
    end
})


Tab:AddSection({"Roupas 3D"})

Tab:AddDropdown({
    Name = "Acessorios 3D",
    Description = "Selecione para equipar",
    Default = nil,
    Options = {
        "La Vaca Saturno",
        "brainrot",
        "Galo",
        "Capivara",
        "Tigre",
        "Capivara",
        "Peixe",
        "Pepino Doidao",
        "Gato",
        "Rato",
        "Sei la KKKKOKK",
        "Pato Banana",
        "Fantasma",
        "Gato Lasanha",
        "Arvore",
        "Gato Cupcake",
        "Formiga",
        "KKKKKKKK",
        "Sherek Feiosa",
        "Frango",
        "Pinguin",
        "rato",
        "Minions",
        "Dinossauro",
        "Ovni",
        "Passaro Gordo",
        "Balao Cachorro",
        "Urso Pelucia",
        "Minecraft",
        "Fofuxo",
        "Sapo",
        "Bruxo",
        "Rato Grande",
        "Burro",
        "Nemo",
        "Careca desenho KKKKK",
        "Pinguin Mini",
        "Mini Sherek",
        "Coruja",
        "Gato de Manga",
        "Tung Saur", 
        "Tralaleiro",
        "Monstro S.A",
        "Trenzinho",
        "Dino",
        "Pou idoso",
        "Coco/boxt@",
        "Coelho",
        "HipopÃ³tamo",
        "Ratatui",
        "Galinha",
        "Pepa pig",
        "Pinguin",
        "Sid",
        "Puga grande",
        "SHREK AMALDIÃ‡OADO",
        "Mosquito grande",
        "Noob Invertido",
        "Pato(a)",
        "Cachorro Chihuahua",
        "Gato sla",
        "Gato fei",
        "Inpostor",
        "Simon amarelo",
        "Simon azul"
    },
    Callback = function(selected)
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        local avatars = {
            ["La Vaca Saturno"] = 92598055945546,
            ["brainrot"] = 71509988068185,
            ["Galo"] = 134279966389194,
            ["Capivara"] = 123881270149502,
            ["Tigre"] = 119471161887334,
            ["Capivara"] = 70941023284215,
            ["Peixe"] = 100767254038825,
            ["Pepino Doidao"] = 140311949273388,
            ["Gato"] = 18863879460,
            ["Rato"] = 94426045122131,
            ["Sei la KKKKOKK"] = 130540554592449,
            ["Pato Banana"] = 101283140862013,
            ["Fantasma"] = 15294031319,
            ["Gato Lasanha"] = 80036937359835,
            ["Arvore"] = 91559013873343,
            ["Gato Cupcake"] = 134590778152934,
            ["Formiga"] = 117567910327875,
            ["KKKKKKKK"] = 126610774641341,
            ["Sherek Feiosa"] = 93929184789448,
            ["Frango"] = 12151793832,
            ["Pinguin"] = 94944293759578,
            ["rato"] = 115152504142706,
            ["Minions"] = 80206221835435,
            ["Dinossauro"] = 78418661102501,
            ["Ovni"] = 108699752030063,
            ["Passaro Gordo"] = 17850619237,
            ["Balao Cachorro"] = 87116547256834,
            ["Urso Pelucia"] = 130455255821318,
            ["Minecraft"] = 18161752527,
            ["Fofuxo"] = 13354344881,
            ["Sapo"] = 108623435649969,
            ["Bruxo"] = 18459833677,
            ["Rato Grande"] = 18843948073,
            ["Burro"] = 133145533787450,
            ["Nemo"] = 91530170242128,
            ["Careca desenho KKKKK"] = 114218821771642,
            ["Pinguin Mini"] = 140417314445581,
            ["Mini Sherek"] = 121680981245369,
            ["Coruja"] = 16259522726,
            -- Avatares originais
            ["Gato de Manga"] = 124948425515124,
            ["Tung Saur"] = 117098257036480,
            ["Tralaleiro"] = 99459753608381,
            ["Monstro S.A"] = 123609977175226,
            ["Trenzinho"] = 80468697076178,
            ["Dino"] = 11941741105,
            ["Pou idoso"] = 15742966010,
            ["Coco/boxt@"] = 77013984520332,
            ["Coelho"] = 71797333686800,
            ["HipopÃ³tamo"] = 73215892129281,
            ["Ratatui"] = 108557570415453,
            ["Galinha"] = 71251793812515,
            ["Pepa pig"] = 92979204778377,
            ["Sid"] = 87442757321244,
            ["Puga grande"] = 111436158728716,
            ["SHREK AMALDIÃ‡OADO"] = 120960401202173,
            ["Mosquito grande"] = 108052868536435,
            ["Noob Invertido"] = 106596990206151,
            ["Pato(a)"] = 135132836238349,
            ["Cachorro Chihuahua"] = 18656467256,
            ["Gato sla"] = 18994959003,
            ["Gato fei"] = 77506186615650,
            ["Inpostor"] = 18234669337,
            ["Simon amarelo"] = 75183593514657,
            ["Simon azul"] = 76155710249925
        }
        
        if avatars[selected] then
            pcall(function()
                local args = {avatars[selected]}
                ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Wear"):InvokeServer(unpack(args))
                StarterGui:SetCore("SendNotification", {
                    Title = "Avatar",
                    Text = "Avatar " .. selected .. " equipado!",
                    Duration = 3
                })
            end)
        end
    end
})

Tab:AddSection({"Avatar Editor"})

Tab:AddParagraph({
    Title = "Aviso: Vai resetar seu avatar",
    Content = "Os avatares abaixo irÃ£o substituir completamente seu personagem atual."
})

Tab:AddButton({
    Name = "Mini REPO",
    Description = "Avatar mini personalizado",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        pcall(function()
            local parts = {
                117101023704825,
                125767940563838,
                137301494386930,
                87357384184710,
                133391239416999,
                111818794467824
            }
            local args = {parts}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeCharacterBody"):InvokeServer(unpack(args))
            StarterGui:SetCore("SendNotification", {
                Title = "Avatar",
                Text = "Mini REPO equipado!",
                Duration = 3
            })
        end)
    end
})

Tab:AddButton({
    Name = "Mini GaranhÃ£o",
    Description = "Avatar mini garanhÃ£o",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        pcall(function()
            local parts = {
                124355047456535,
                120507500641962,
                82273782655463,
                113625313757230,
                109182039511426,
                0
            }
            local args = {parts}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeCharacterBody"):InvokeServer(unpack(args))
            StarterGui:SetCore("SendNotification", {
                Title = "Avatar",
                Text = "Mini GaranhÃ£o equipado!",
                Duration = 3
            })
        end)
    end
})

Tab:AddButton({
    Name = "Stick",
    Description = "Avatar estilo palito",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        pcall(function()
            local parts = {
                14731384498,
                14731377938,
                14731377894,
                14731377875,
                14731377941,
                14731382899
            }
            local args = {parts}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeCharacterBody"):InvokeServer(unpack(args))
            StarterGui:SetCore("SendNotification", {
                Title = "Avatar",
                Text = "Stick equipado!",
                Duration = 3
            })
        end)
    end
})

Tab:AddButton({
    Name = "Chunky-Bug",
    Description = "Avatar estilo bug",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        pcall(function()
            local parts = {
                15527827600,
                15527827578,
                15527831669,
                15527836067,
                15527827184,
                15527827599
            }
            local args = {parts}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeCharacterBody"):InvokeServer(unpack(args))
            StarterGui:SetCore("SendNotification", {
                Title = "Avatar",
                Text = "Chunky-Bug equipado!",
                Duration = 3
            })
        end)
    end
})

Tab:AddButton({
    Name = "Cursed-Spider",
    Description = "Avatar aranha amaldiÃ§oada",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        pcall(function()
            local parts = {
                134555168634906,
                100269043793774,
                125607053187319,
                122504853343598,
                95907982259204,
                91289185840375
            }
            local args = {parts}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeCharacterBody"):InvokeServer(unpack(args))
            StarterGui:SetCore("SendNotification", {
                Title = "Avatar",
                Text = "Cursed-Spider equipado!",
                Duration = 3
            })
        end)
    end
})

Tab:AddButton({
    Name = "Possessed-Horror",
    Description = "Avatar horror possuÃ­do",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        pcall(function()
            local parts = {
                122800511983371,
                132465361516275,
                125155800236527,
                83070163355072,
                102906187256945,
                78311422507297
            }
            local args = {parts}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeCharacterBody"):InvokeServer(unpack(args))
            StarterGui:SetCore("SendNotification", {
                Title = "Avatar",
                Text = "Possessed-Horror equipado!",
                Duration = 3
            })
        end)
    end
})

local Section = Tab:AddSection({
    Name = "Equipar Corpos"
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "AnÃ£o 1",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
            101678129797722,
            74948603903648,
            114267907635155,
            101387518276175,
            100840538291335,
            0
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "Mulher Fina",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
            75159926897589,
            76683091425509,
            14567282030,
            14567281990,
            14874108946,
            0
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "Mulher fina 2",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
            97119075795691,
            72699005696177,
            122027795919157,
            80393546275035,
            125637672664513,
            0
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "AnÃ£o 2",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
            14579958702,
            14583777042,
            14583777007,
            14579959249,
            14579963667,
            0
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "Bombado",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
            121532625082697,
        119216187383922,
        121634444400488,
        100229264383618,
        126161096503611,
        0
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "Gordin",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
        16305051918,
        16305051718,
        16305053205,
        16305053865,
        16305051982,
        16305055011
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "Golem",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
        15489582363,
        15489584734,
        15489584622,
        15489582354,
        15489584682,
        15489582340
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})


local scriptsTab = Window:MakeTab({"Scripts Troll", "rbxassetid://6862780932"})

scriptsTab:AddSection({ "Black Hole" })

scriptsTab:AddButton({
    Name = "Black Hole",
    Description = "",
    Callback = function()
        local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")

local angle = 1
local radius = 10
local blackHoleActive = false

local function setupPlayer()
    local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    local Folder = Instance.new("Folder", Workspace)
    local Part = Instance.new("Part", Folder)
    local Attachment1 = Instance.new("Attachment", Part)
    Part.Anchored = true
    Part.CanCollide = false
    Part.Transparency = 1

    return humanoidRootPart, Attachment1
end

local humanoidRootPart, Attachment1 = setupPlayer()

if not getgenv().Network then
    getgenv().Network = {
        BaseParts = {},
        Velocity = Vector3.new(14.46262424, 14.46262424, 14.46262424)
    }

    Network.RetainPart = function(part)
        if typeof(part) == "Instance" and part:IsA("BasePart") and part:IsDescendantOf(Workspace) then
            table.insert(Network.BaseParts, part)
            part.CustomPhysicalProperties = PhysicalProperties.new(0, 0, 0, 0, 0)
            part.CanCollide = false
        end
    end

    local function EnablePartControl()
        LocalPlayer.ReplicationFocus = Workspace
        RunService.Heartbeat:Connect(function()
            sethiddenproperty(LocalPlayer, "SimulationRadius", math.huge)
            for _, part in pairs(Network.BaseParts) do
                if part:IsDescendantOf(Workspace) then
                    part.Velocity = Network.Velocity
                end
            end
        end)
    end

    EnablePartControl()
end

local function ForcePart(v)
    if v:IsA("Part") and not v.Anchored and not v.Parent:FindFirstChild("Humanoid") and not v.Parent:FindFirstChild("Head") and v.Name ~= "Handle" then
        for _, x in next, v:GetChildren() do
            if x:IsA("BodyAngularVelocity") or x:IsA("BodyForce") or x:IsA("BodyGyro") or x:IsA("BodyPosition") or x:IsA("BodyThrust") or x:IsA("BodyVelocity") or x:IsA("RocketPropulsion") then
                x:Destroy()
            end
        end
        if v:FindFirstChild("Attachment") then
            v:FindFirstChild("Attachment"):Destroy()
        end
        if v:FindFirstChild("AlignPosition") then
            v:FindFirstChild("AlignPosition"):Destroy()
        end
        if v:FindFirstChild("Torque") then
            v:FindFirstChild("Torque"):Destroy()
        end
        v.CanCollide = false
        
        local Torque = Instance.new("Torque", v)
        Torque.Torque = Vector3.new(1000000, 1000000, 1000000)
        local AlignPosition = Instance.new("AlignPosition", v)
        local Attachment2 = Instance.new("Attachment", v)
        Torque.Attachment0 = Attachment2
        AlignPosition.MaxForce = math.huge
        AlignPosition.MaxVelocity = math.huge
        AlignPosition.Responsiveness = 500
        AlignPosition.Attachment0 = Attachment2
        AlignPosition.Attachment1 = Attachment1
    end
end

local function toggleBlackHole()
    blackHoleActive = not blackHoleActive
    if blackHoleActive then
        for _, v in next, Workspace:GetDescendants() do
            ForcePart(v)
        end

        Workspace.DescendantAdded:Connect(function(v)
            if blackHoleActive then
                ForcePart(v)
            end
        end)

        spawn(function()
            while blackHoleActive and RunService.RenderStepped:Wait() do
                angle = angle + math.rad(2)

                local offsetX = math.cos(angle) * radius
                local offsetZ = math.sin(angle) * radius

                Attachment1.WorldCFrame = humanoidRootPart.CFrame * CFrame.new(offsetX, 0, offsetZ)
            end
        end)
    else
        Attachment1.WorldCFrame = CFrame.new(0, -1000, 0)
    end
end

LocalPlayer.CharacterAdded:Connect(function()
    humanoidRootPart, Attachment1 = setupPlayer()
    if blackHoleActive then
        toggleBlackHole()
    end
end)

local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/miroeramaa/TurtleLib/main/TurtleUiLib.lua"))()
local window = library:Window("Projeto LKB")

window:Slider("Radius Blackhole",1,100,10, function(Value)
   radius = Value
end)

window:Toggle("Blackhole", true, function(Value)
       if Value then
            toggleBlackHole()
        else
            blackHoleActive = false
        end
end)

spawn(function()
    while true do
        RunService.RenderStepped:Wait()
        if blackHoleActive then
            angle = angle + math.rad(angleSpeed)
        end
    end
end)

toggleBlackHole()
    end
})

scriptsTab:AddButton({
    Name = "Puxar Parts Player",
    Description = "",
    Callback = function()
        -- Gui to Lua
-- Version: 3.2

-- Instances:

local Gui = Instance.new("ScreenGui")
local Main = Instance.new("Frame")
local Box = Instance.new("TextBox")
local UITextSizeConstraint = Instance.new("UITextSizeConstraint")
local Label = Instance.new("TextLabel")
local UITextSizeConstraint_2 = Instance.new("UITextSizeConstraint")
local Button = Instance.new("TextButton")
local UITextSizeConstraint_3 = Instance.new("UITextSizeConstraint")

--Properties:

Gui.Name = "Gui"
Gui.Parent = gethui()
Gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

Main.Name = "Main"
Main.Parent = Gui
Main.BackgroundColor3 = Color3.fromRGB(75, 75, 75)
Main.BorderColor3 = Color3.fromRGB(0, 0, 0)
Main.BorderSizePixel = 0
Main.Position = UDim2.new(0.335954279, 0, 0.542361975, 0)
Main.Size = UDim2.new(0.240350261, 0, 0.166880623, 0)
Main.Active = true
Main.Draggable = true

Box.Name = "Box"
Box.Parent = Main
Box.BackgroundColor3 = Color3.fromRGB(95, 95, 95)
Box.BorderColor3 = Color3.fromRGB(0, 0, 0)
Box.BorderSizePixel = 0
Box.Position = UDim2.new(0.0980926454, 0, 0.218712583, 0)
Box.Size = UDim2.new(0.801089942, 0, 0.364963502, 0)
Box.FontFace = Font.new("rbxasset://fonts/families/SourceSansSemibold.json", Enum.FontWeight.Bold, Enum.FontStyle.Normal)
Box.PlaceholderText = "Player here"
Box.Text = ""
Box.TextColor3 = Color3.fromRGB(255, 255, 255)
Box.TextScaled = true
Box.TextSize = 31.000
Box.TextWrapped = true

UITextSizeConstraint.Parent = Box
UITextSizeConstraint.MaxTextSize = 31

Label.Name = "Label"
Label.Parent = Main
Label.BackgroundColor3 = Color3.fromRGB(95, 95, 95)
Label.BorderColor3 = Color3.fromRGB(0, 0, 0)
Label.BorderSizePixel = 0
Label.Size = UDim2.new(1, 0, 0.160583943, 0)
Label.FontFace = Font.new("rbxasset://fonts/families/Nunito.json", Enum.FontWeight.Bold, Enum.FontStyle.Normal)
Label.Text = "Bring Parts"
Label.TextColor3 = Color3.fromRGB(255, 255, 255)
Label.TextScaled = true
Label.TextSize = 14.000
Label.TextWrapped = true

UITextSizeConstraint_2.Parent = Label
UITextSizeConstraint_2.MaxTextSize = 21

Button.Name = "Button"
Button.Parent = Main
Button.BackgroundColor3 = Color3.fromRGB(95, 95, 95)
Button.BorderColor3 = Color3.fromRGB(0, 0, 0)
Button.BorderSizePixel = 0
Button.Position = UDim2.new(0.183284417, 0, 0.656760991, 0)
Button.Size = UDim2.new(0.629427791, 0, 0.277372271, 0)
Button.Font = Enum.Font.Nunito
Button.Text = "Bring | Off"
Button.TextColor3 = Color3.fromRGB(255, 255, 255)
Button.TextScaled = true
Button.TextSize = 28.000
Button.TextWrapped = true

UITextSizeConstraint_3.Parent = Button
UITextSizeConstraint_3.MaxTextSize = 28

-- Scripts:

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")

local character
local humanoidRootPart

mainStatus = true
UserInputService.InputBegan:Connect(function(input, gameProcessedEvent)
	if input.KeyCode == Enum.KeyCode.RightControl and not gameProcessedEvent then
		mainStatus = not mainStatus
		Main.Visible = mainStatus
	end
end)

local Folder = Instance.new("Folder", Workspace)
local Part = Instance.new("Part", Folder)
local Attachment1 = Instance.new("Attachment", Part)
Part.Anchored = true
Part.CanCollide = false
Part.Transparency = 1

if not getgenv().Network then
	getgenv().Network = {
		BaseParts = {},
		Velocity = Vector3.new(14.46262424, 14.46262424, 14.46262424)
	}

	Network.RetainPart = function(Part)
		if Part:IsA("BasePart") and Part:IsDescendantOf(Workspace) then
			table.insert(Network.BaseParts, Part)
			Part.CustomPhysicalProperties = PhysicalProperties.new(0, 0, 0, 0, 0)
			Part.CanCollide = false
		end
	end

	local function EnablePartControl()
		LocalPlayer.ReplicationFocus = Workspace
		RunService.Heartbeat:Connect(function()
			sethiddenproperty(LocalPlayer, "SimulationRadius", math.huge)
			for _, Part in pairs(Network.BaseParts) do
				if Part:IsDescendantOf(Workspace) then
					Part.Velocity = Network.Velocity
				end
			end
		end)
	end

	EnablePartControl()
end

local function ForcePart(v)
	if v:IsA("BasePart") and not v.Anchored and not v.Parent:FindFirstChildOfClass("Humanoid") and not v.Parent:FindFirstChild("Head") and v.Name ~= "Handle" then
		for _, x in ipairs(v:GetChildren()) do
			if x:IsA("BodyMover") or x:IsA("RocketPropulsion") then
				x:Destroy()
			end
		end
		if v:FindFirstChild("Attachment") then
			v:FindFirstChild("Attachment"):Destroy()
		end
		if v:FindFirstChild("AlignPosition") then
			v:FindFirstChild("AlignPosition"):Destroy()
		end
		if v:FindFirstChild("Torque") then
			v:FindFirstChild("Torque"):Destroy()
		end
		v.CanCollide = false
		local Torque = Instance.new("Torque", v)
		Torque.Torque = Vector3.new(100000, 100000, 100000)
		local AlignPosition = Instance.new("AlignPosition", v)
		local Attachment2 = Instance.new("Attachment", v)
		Torque.Attachment0 = Attachment2
		AlignPosition.MaxForce = math.huge
		AlignPosition.MaxVelocity = math.huge
		AlignPosition.Responsiveness = 200
		AlignPosition.Attachment0 = Attachment2
		AlignPosition.Attachment1 = Attachment1
	end
end

local blackHoleActive = false
local DescendantAddedConnection

local function toggleBlackHole()
	blackHoleActive = not blackHoleActive
	if blackHoleActive then
		Button.Text = "Bring Parts | On"
		for _, v in ipairs(Workspace:GetDescendants()) do
			ForcePart(v)
		end

		DescendantAddedConnection = Workspace.DescendantAdded:Connect(function(v)
			if blackHoleActive then
				ForcePart(v)
			end
		end)

		spawn(function()
			while blackHoleActive and RunService.RenderStepped:Wait() do
				Attachment1.WorldCFrame = humanoidRootPart.CFrame
			end
		end)
	else
		Button.Text = "Bring Parts | Off"
		if DescendantAddedConnection then
			DescendantAddedConnection:Disconnect()
		end
	end
end

local function getPlayer(name)
	local lowerName = string.lower(name)
	for _, p in pairs(Players:GetPlayers()) do
		local lowerPlayer = string.lower(p.Name)
		if string.find(lowerPlayer, lowerName) then
			return p
		elseif string.find(string.lower(p.DisplayName), lowerName) then
			return p
		end
	end
end

local player = nil

local function VDOYZQL_fake_script() -- Box.Script 
	local script = Instance.new('Script', Box)

	script.Parent.FocusLost:Connect(function(enterPressed)
		if enterPressed then
			player = getPlayer(Box.Text)
			if player then
				Box.Text = player.Name
				print("Player found:", player.Name)
			else
				print("Player not found")
			end
		end
	end)
end
coroutine.wrap(VDOYZQL_fake_script)()
local function JUBNQKI_fake_script() -- Button.Script 
	local script = Instance.new('Script', Button)

	script.Parent.MouseButton1Click:Connect(function()
		if player then
			character = player.Character or player.CharacterAdded:Wait()
			humanoidRootPart = character:WaitForChild("HumanoidRootPart")
			toggleBlackHole()
		else
			print("Player is not selected")
		end
	end)
end
coroutine.wrap(JUBNQKI_fake_script)()
    end
})

scriptsTab:AddSection({ "Glue & Invisible" })

scriptsTab:AddButton({
    Name = "FE Invisible",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/TROLLLINUXKKK/Fe-invis-vel-/refs/heads/main/Main.txt"))()
    end
})

scriptsTab:AddSection({ "Desastres naturais" })
scriptsTab:AddButton({
    Name = "Tornado Com Navio Grande",
    Description = "",
    Callback = function()
local RS = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local TextChatService = game:GetService("TextChatService")
local Player = game.Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local RootPart = Character:WaitForChild("HumanoidRootPart")
local Vehicles = workspace:WaitForChild("Vehicles")

-- Aviso no chat
if TextChatService.ChatVersion == Enum.ChatVersion.TextChatService then 
    TextChatService.TextChannels.RBXGeneral:SendAsync(
        "hi\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r\r[ UM TORNADO SURGIU! LYRA HUB ON TOP ]"
    )
else 
    print("Nadaa")
end

-- FunÃ§Ã£o para tocar o Ã¡udio 5 vezes
local selectedAudioID = 9068077052
local function playAudio()
    if not selectedAudioID then
        warn("Nenhum Ã¡udio selecionado!")
        return
    end

    local args = {
        [1] = workspace,
        [2] = selectedAudioID,
        [3] = 1,
    }

    for i = 1, 5 do
        RS.RE:FindFirstChild("1Gu1nSound1s"):FireServer(unpack(args))

        local sound = Instance.new("Sound")
        sound.SoundId = "rbxassetid://" .. tostring(selectedAudioID)
        sound.Parent = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
        if sound.Parent then
            sound:Play()
        else
            warn("HumanoidRootPart nÃ£o encontrado")
            break
        end

        task.wait(1.5)
        sound:Destroy()
    end
end

-- Spawn do barco
local function spawnBoat()
    RootPart.CFrame = CFrame.new(1754, -2, 58)
    task.wait(0.5)
    RS:WaitForChild("RE"):FindFirstChild("1Ca1r"):FireServer("PickingBoat", "PirateFree")
    task.wait(1)
    return Vehicles:FindFirstChild(Player.Name .. "Car")
end

local PCar = spawnBoat()
if not PCar then
    warn("Falha ao spawnar o barco")
    return
end

print("Barco PirateFree gerado!")

local Seat = PCar:FindFirstChild("Body") and PCar.Body:FindFirstChild("VehicleSeat")
if not Seat then
    warn("Seat nÃ£o encontrado")
    return
end

-- Sentar no assento
repeat
    task.wait(0.1)
    RootPart.CFrame = Seat.CFrame * CFrame.new(0, 1, 0)
until Humanoid.SeatPart == Seat

print("Jogador sentado com sucesso!")

-- Tocar Ã¡udio em paralelo
task.spawn(playAudio)

-- Ejetar apÃ³s 4 segundos
task.delay(4, function()
    if Humanoid.SeatPart then
        Humanoid.Sit = false
    end
    RootPart.CFrame = CFrame.new(0, 0, 0)
    print("Jogador ejetado e teleportado")
end)

-- Flip loop paralelo
local RE_Flip = RS:WaitForChild("RE"):WaitForChild("1Player1sCa1r")
task.spawn(function()
    while PCar and PCar.Parent do
        RE_Flip:FireServer("Flip")
        task.wait(0.5)
    end
end)

-- ConfiguraÃ§Ã£o de movimento
local waypoints = {
    Vector3.new(-16, 0, -47),
    Vector3.new(-110, 0, -45),
    Vector3.new(16, 0, -55)
}

local currentIndex = 1
local nextIndex = 2
local moveSpeed = 15
local rotationSpeed = math.rad(720) -- 720Â°/s
local progress = 0
local currentRotation = 0

local function lerpCFrame(a, b, t)
    return a:lerp(b, t)
end

-- Movimento + rotaÃ§Ã£o
RunService.Heartbeat:Connect(function(dt)
    if not (PCar and PCar.PrimaryPart) then return end

    local startPos = waypoints[currentIndex]
    local endPos = waypoints[nextIndex]

    progress += (moveSpeed * dt) / (startPos - endPos).Magnitude
    if progress >= 1 then
        progress = 0
        currentIndex = nextIndex
        nextIndex = (nextIndex % #waypoints) + 1
    end

    local newPos = lerpCFrame(CFrame.new(startPos), CFrame.new(endPos), progress).p
    currentRotation += rotationSpeed * dt

    local cf = CFrame.new(newPos) * CFrame.Angles(0, currentRotation, 0)
    PCar:SetPrimaryPartCFrame(cf)
end)
end
})

scriptsTab:AddButton({
    Name = "Desativar Tornado e Remover Veiculo",
    Description = "",
    Callback = function()
        -- Tenta remover o veÃ­culo via RemoteEvent
        local success, err = pcall(function()
            local args = { "DeleteAllVehicles" }
            game:GetService("ReplicatedStorage"):WaitForChild("RE"):WaitForChild("1Ca1r"):FireServer(unpack(args))
        end)

        if not success then
            warn("Falha ao deletar veÃ­culos:", err)
        else
            print("[Shaodws Hub] Tornado finalizado e veÃ­culos deletados.")
        end
    end
})

scriptsTab:AddSection({ "ESP" })

-- ===============================
-- ESP GLOBAL DATA
-- ===============================
_G.ESPData = _G.ESPData or {
    espEnabled = false,
    espType = "Nome + Idade",
    selectedColor = "RGB",
    billboardGuis = {},
    highlights = {},
    lines = {},
    connections = {}
}

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera

-- ===============================
-- FUNCÃƒO DE COR
-- ===============================
local function getESPColor()
    local colors = {
        RGB = function()
            local h = (tick() % 5) / 5
            return Color3.fromHSV(h, 1, 1)
        end,
        Preto = Color3.fromRGB(0,0,0),
        Branco = Color3.fromRGB(255,255,255),
        Vermelho = Color3.fromRGB(255,0,0),
        Verde = Color3.fromRGB(0,255,0),
        Azul = Color3.fromRGB(0,170,255),
        Amarelo = Color3.fromRGB(255,255,0),
        Rosa = Color3.fromRGB(255,105,180),
        Roxo = Color3.fromRGB(128,0,128)
    }

    local c = colors[_G.ESPData.selectedColor]
    return type(c) == "function" and c() or c or Color3.new(1,1,1)
end

-- ===============================
-- LIMPAR ESP
-- ===============================
_G.clearAllESP = function()
    for _, gui in pairs(_G.ESPData.billboardGuis) do
        pcall(function() gui:Destroy() end)
    end
    for _, h in pairs(_G.ESPData.highlights) do
        pcall(function() h:Destroy() end)
    end
    for _, l in pairs(_G.ESPData.lines) do
        pcall(function() l:Remove() end)
    end
    for _, c in pairs(_G.ESPData.connections) do
        pcall(function() c:Disconnect() end)
    end

    _G.ESPData.billboardGuis = {}
    _G.ESPData.highlights = {}
    _G.ESPData.lines = {}
    _G.ESPData.connections = {}
end

-- ===============================
-- CRIAR ESPs
-- ===============================
local function createNameESP(player)
    if player == Players.LocalPlayer then return end
    if not player.Character or not player.Character:FindFirstChild("Head") then return end

    local head = player.Character.Head
    if _G.ESPData.billboardGuis[player] then
        _G.ESPData.billboardGuis[player]:Destroy()
    end

    local gui = Instance.new("BillboardGui", head)
    gui.Size = UDim2.new(0,200,0,50)
    gui.StudsOffset = Vector3.new(0,3,0)
    gui.AlwaysOnTop = true

    local txt = Instance.new("TextLabel", gui)
    txt.Size = UDim2.new(1,0,1,0)
    txt.BackgroundTransparency = 1
    txt.TextStrokeTransparency = 0.5
    txt.Font = Enum.Font.SourceSansBold
    txt.TextSize = 14
    txt.Text = player.Name.." | "..player.AccountAge.." dias"
    txt.TextColor3 = getESPColor()

    _G.ESPData.billboardGuis[player] = gui
end

local function createHighlightESP(player)
    if player == Players.LocalPlayer then return end
    if not player.Character then return end

    if _G.ESPData.highlights[player] then
        _G.ESPData.highlights[player]:Destroy()
    end

    local h = Instance.new("Highlight", player.Character)
    h.FillColor = getESPColor()
    h.FillTransparency = 0.5
    h.OutlineTransparency = 0
    h.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop

    _G.ESPData.highlights[player] = h
end

local function createLineESP(player)
    if player == Players.LocalPlayer then return end
    if _G.ESPData.lines[player] then
        pcall(function() _G.ESPData.lines[player]:Remove() end)
    end

    local l = Drawing.new("Line")
    l.Thickness = 2
    l.Transparency = 1
    l.Visible = false

    _G.ESPData.lines[player] = l
end

-- ===============================
-- APLICAR ESP
-- ===============================
_G.applyCurrentESP = function()
    _G.clearAllESP()
    if not _G.ESPData.espEnabled then return end

    for _, p in pairs(Players:GetPlayers()) do
        if _G.ESPData.espType == "Nome + Idade" then
            createNameESP(p)
        elseif _G.ESPData.espType == "Corpo (Highlight)" then
            createHighlightESP(p)
        elseif _G.ESPData.espType == "Linhas" then
            createLineESP(p)
        end
    end

    -- RGB / UPDATE
    table.insert(_G.ESPData.connections,
        RunService.RenderStepped:Connect(function()
            if not _G.ESPData.espEnabled then return end
            local color = getESPColor()

            if _G.ESPData.espType == "Nome + Idade" then
                for _, gui in pairs(_G.ESPData.billboardGuis) do
                    if gui:FindFirstChildOfClass("TextLabel") then
                        gui.TextLabel.TextColor3 = color
                    end
                end

            elseif _G.ESPData.espType == "Corpo (Highlight)" then
                for _, h in pairs(_G.ESPData.highlights) do
                    h.FillColor = color
                end

            elseif _G.ESPData.espType == "Linhas" then
                for p, l in pairs(_G.ESPData.lines) do
                    if p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                        local pos, on = Camera:WorldToViewportPoint(p.Character.HumanoidRootPart.Position)
                        l.Visible = on
                        if on then
                            l.From = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y)
                            l.To = Vector2.new(pos.X, pos.Y)
                            l.Color = color
                        end
                    else
                        l.Visible = false
                    end
                end
            end
        end)
    )
end

-- ===============================
-- UI CALLBACKS
-- ===============================
scriptsTab:AddDropdown({
    Name = "Tipo de ESP",
    Options = {"Nome + Idade","Corpo (Highlight)","Linhas"},
    Default = "Nome + Idade",
    Callback = function(v)
        _G.ESPData.espType = v
        if _G.ESPData.espEnabled then
            _G.applyCurrentESP()
        end
    end
})

scriptsTab:AddDropdown({
    Name = "Cor do ESP",
    Options = {"RGB","Branco","Preto","Vermelho","Verde","Azul","Amarelo","Rosa","Roxo"},
    Default = "RGB",
    Callback = function(v)
        _G.ESPData.selectedColor = v
    end
})

scriptsTab:AddToggle({
    Name = "ESP Ativado",
    Default = false,
    Callback = function(v)
        _G.ESPData.espEnabled = v
        if v then
            _G.applyCurrentESP()
        else
            _G.clearAllESP()
        end
    end
})

scriptsTab:AddSection({ "Fly Lyra" })

scriptsTab:AddButton({
    Title = "Fly Lyra",
    Desc = "Ativa o Fly",
    Locked = false,
    Callback = function()
        -- NotificaÃ§ao de creditos
        game:GetService("StarterGui"):SetCore("SendNotification",{
            Title = "Credits",
            Text = "Modified By Kayrus999",
            Duration = 3.5
        })
        
        -- Gui to Lua
        -- Version: 3.2
        
        -- Instances:
        
        local main = Instance.new("ScreenGui")
        local Frame = Instance.new("Frame")
        local up = Instance.new("TextButton")
        local down = Instance.new("TextButton")
        local onof = Instance.new("TextButton")
        local TextLabel = Instance.new("TextLabel")
        local plus = Instance.new("TextButton")
        local speed = Instance.new("TextLabel")
        local mine = Instance.new("TextButton")
        
        --Properties:
        
        main.Name = "main"
        main.Parent = game.CoreGui
        main.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
        
        Frame.Parent = main
        Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)      -- Cinza escuro
        Frame.BorderColor3 = Color3.fromRGB(150, 150, 150)      -- Cinza para borda
        Frame.BorderSizePixel = 2
        Frame.Position = UDim2.new(0.100320168, 0, 0.379746825, 0)
        Frame.Size = UDim2.new(0, 190, 0, 57)
        
        up.Name = "up"
        up.Parent = Frame
        up.BackgroundColor3 = Color3.fromRGB(50, 50, 50)        -- Cinza mÃ©dio
        up.BorderColor3 = Color3.fromRGB(200, 200, 200)         -- Cinza claro
        up.BorderSizePixel = 1
        up.Size = UDim2.new(0, 44, 0, 28)
        up.Font = Enum.Font.SourceSans
        up.Text = "UP"
        up.TextColor3 = Color3.fromRGB(255, 255, 255)           -- Branco
        up.TextSize = 14.000
        up.TextStrokeColor3 = Color3.fromRGB(200, 200, 200)     -- Cinza claro
        up.TextStrokeTransparency = 0.5
        
        down.Name = "down"
        down.Parent = Frame
        down.BackgroundColor3 = Color3.fromRGB(50, 50, 50)      -- Cinza mÃ©dio
        down.BorderColor3 = Color3.fromRGB(200, 200, 200)       -- Cinza claro
        down.BorderSizePixel = 1
        down.Position = UDim2.new(0, 0, 0.491228074, 0)
        down.Size = UDim2.new(0, 44, 0, 28)
        down.Font = Enum.Font.SourceSans
        down.Text = "DOWN"
        down.TextColor3 = Color3.fromRGB(255, 255, 255)         -- Branco
        down.TextSize = 14.000
        down.TextStrokeColor3 = Color3.fromRGB(200, 200, 200)   -- Cinza claro
        down.TextStrokeTransparency = 0.5
        
        onof.Name = "onof"
        onof.Parent = Frame
        onof.BackgroundColor3 = Color3.fromRGB(50, 50, 50)      -- Cinza mÃ©dio
        onof.BorderColor3 = Color3.fromRGB(200, 200, 200)       -- Cinza claro
        onof.BorderSizePixel = 1
        onof.Position = UDim2.new(0.702823281, 0, 0.491228074, 0)
        onof.Size = UDim2.new(0, 56, 0, 28)
        onof.Font = Enum.Font.SourceSans
        onof.Text = "FLY"
        onof.TextColor3 = Color3.fromRGB(255, 255, 255)         -- Branco
        onof.TextSize = 14.000
        onof.TextStrokeColor3 = Color3.fromRGB(200, 200, 200)   -- Cinza claro
        onof.TextStrokeTransparency = 0.5
        
        TextLabel.Parent = Frame
        TextLabel.BackgroundColor3 = Color3.fromRGB(40, 40, 40) -- Cinza mÃ©dio escuro
        TextLabel.BorderColor3 = Color3.fromRGB(150, 150, 150)  -- Cinza
        TextLabel.BorderSizePixel = 1
        TextLabel.Position = UDim2.new(0.469327301, 0, 0, 0)
        TextLabel.Size = UDim2.new(0, 100, 0, 28)
        TextLabel.Font = Enum.Font.SourceSans
        TextLabel.Text = "LYRA FLY V2"
        TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)    -- Branco
        TextLabel.TextScaled = true
        TextLabel.TextSize = 14.000
        TextLabel.TextWrapped = true
        TextLabel.TextStrokeColor3 = Color3.fromRGB(200, 200, 200) -- Cinza claro
        TextLabel.TextStrokeTransparency = 0.4
        
        plus.Name = "plus"
        plus.Parent = Frame
        plus.BackgroundColor3 = Color3.fromRGB(50, 50, 50)      -- Cinza mÃ©dio
        plus.BorderColor3 = Color3.fromRGB(200, 200, 200)       -- Cinza claro
        plus.BorderSizePixel = 1
        plus.Position = UDim2.new(0.231578946, 0, 0, 0)
        plus.Size = UDim2.new(0, 45, 0, 28)
        plus.Font = Enum.Font.SourceSans
        plus.Text = "+"
        plus.TextColor3 = Color3.fromRGB(255, 255, 255)         -- Branco
        plus.TextScaled = true
        plus.TextSize = 14.000
        plus.TextWrapped = true
        plus.TextStrokeColor3 = Color3.fromRGB(200, 200, 200)   -- Cinza claro
        plus.TextStrokeTransparency = 0.5
        
        speed.Name = "speed"
        speed.Parent = Frame
        speed.BackgroundColor3 = Color3.fromRGB(50, 50, 50)     -- Cinza mÃ©dio
        speed.BorderColor3 = Color3.fromRGB(200, 200, 200)      -- Cinza claro
        speed.BorderSizePixel = 1
        speed.Position = UDim2.new(0.468421042, 0, 0.491228074, 0)
        speed.Size = UDim2.new(0, 44, 0, 28)
        speed.Font = Enum.Font.SourceSans
        speed.Text = "1"
        speed.TextColor3 = Color3.fromRGB(255, 255, 255)        -- Branco
        speed.TextScaled = true
        speed.TextSize = 14.000
        speed.TextWrapped = true
        speed.TextStrokeColor3 = Color3.fromRGB(200, 200, 200)  -- Cinza claro
        speed.TextStrokeTransparency = 0.5
        
        mine.Name = "mine"
        mine.Parent = Frame
        mine.BackgroundColor3 = Color3.fromRGB(50, 50, 50)      -- Cinza mÃ©dio
        mine.BorderColor3 = Color3.fromRGB(200, 200, 200)       -- Cinza claro
        mine.BorderSizePixel = 1
        mine.Position = UDim2.new(0.231578946, 0, 0.491228074, 0)
        mine.Size = UDim2.new(0, 45, 0, 29)
        mine.Font = Enum.Font.SourceSans
        mine.Text = "-"
        mine.TextColor3 = Color3.fromRGB(255, 255, 255)         -- Branco
        mine.TextScaled = true
        mine.TextSize = 14.000
        mine.TextWrapped = true
        mine.TextStrokeColor3 = Color3.fromRGB(200, 200, 200)   -- Cinza claro
        mine.TextStrokeTransparency = 0.5
        
        speeds = 1
        
        local speaker = game:GetService("Players").LocalPlayer
        
        local chr = game.Players.LocalPlayer.Character
        local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
        
        nowe = false
        
        Frame.Active = true -- main = gui
        Frame.Draggable = true
        
        onof.MouseButton1Down:connect(function()
        
            if nowe == true then
                nowe = false
        
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,true)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,true)
                speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.RunningNoPhysics)
            else 
                nowe = true
        
                for i = 1, speeds do
                    spawn(function()
        
                        local hb = game:GetService("RunService").Heartbeat	
        
                        tpwalking = true
                        local chr = game.Players.LocalPlayer.Character
                        local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                        while tpwalking and hb:Wait() and chr and hum and hum.Parent do
                            if hum.MoveDirection.Magnitude > 0 then
                                chr:TranslateBy(hum.MoveDirection)
                            end
                        end
        
                    end)
                end
                game.Players.LocalPlayer.Character.Animate.Disabled = true
                local Char = game.Players.LocalPlayer.Character
                local Hum = Char:FindFirstChildOfClass("Humanoid") or Char:FindFirstChildOfClass("AnimationController")
        
                for i,v in next, Hum:GetPlayingAnimationTracks() do
                    v:AdjustSpeed(0)
                end
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,false)
                speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,false)
                speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Swimming)
            end
        
            local plr = game.Players.LocalPlayer
            local UpperTorso = plr.Character.LowerTorso
            local flying = true
            local deb = true
            local ctrl = {f = 0, b = 0, l = 0, r = 0}
            local lastctrl = {f = 0, b = 0, l = 0, r = 0}
            local maxspeed = 50
            local speed = 0
        
            local bg = Instance.new("BodyGyro", UpperTorso)
            bg.P = 9e4
            bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
            bg.cframe = UpperTorso.CFrame
            local bv = Instance.new("BodyVelocity", UpperTorso)
            bv.velocity = Vector3.new(0,0.1,0)
            bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
            if nowe == true then
                plr.Character.Humanoid.PlatformStand = true
            end
            while nowe == true or game:GetService("Players").LocalPlayer.Character.Humanoid.Health == 0 do
                wait()
        
                if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
                    speed = speed+.5+(speed/maxspeed)
                    if speed > maxspeed then
                        speed = maxspeed
                    end
                elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
                    speed = speed-1
                    if speed < 0 then
                        speed = 0
                    end
                end
                if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
                    bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
                    lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
                elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
                    bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (lastctrl.f+lastctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(lastctrl.l+lastctrl.r,(lastctrl.f+lastctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
                else
                    bv.velocity = Vector3.new(0,0,0)
                end
        
                bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
            end
            ctrl = {f = 0, b = 0, l = 0, r = 0}
            lastctrl = {f = 0, b = 0, l = 0, r = 0}
            speed = 0
            bg:Destroy()
            bv:Destroy()
            plr.Character.Humanoid.PlatformStand = false
            game.Players.LocalPlayer.Character.Animate.Disabled = false
            tpwalking = false
        
        end)
        
        up.MouseButton1Down:connect(function()
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,2,0)
        end)
        
        down.MouseButton1Down:connect(function()
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,-2,0)
        end)
        
        game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function(char)
            wait(0.7)
            game.Players.LocalPlayer.Character.Humanoid.PlatformStand = false
            game.Players.LocalPlayer.Character.Animate.Disabled = false
        end)
        
        plus.MouseButton1Down:connect(function()
            speeds = speeds + 1
            speed.Text = speeds
            if nowe == true then
                tpwalking = false
                for i = 1, speeds do
                    spawn(function()
                        local hb = game:GetService("RunService").Heartbeat	
                        tpwalking = true
                        local chr = game.Players.LocalPlayer.Character
                        local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                        while tpwalking and hb:Wait() and chr and hum and hum.Parent do
                            if hum.MoveDirection.Magnitude > 0 then
                                chr:TranslateBy(hum.MoveDirection)
                            end
                        end
                    end)
                end
            end
        end)

        mine.MouseButton1Down:connect(function()
            if speeds == 1 then
                speed.Text = 'can not be less than 1'
                wait(1)
                speed.Text = speeds
            else
                speeds = speeds - 1
                speed.Text = speeds
                if nowe == true then
                    tpwalking = false
                    for i = 1, speeds do
                        spawn(function()
                            local hb = game:GetService("RunService").Heartbeat	
                            tpwalking = true
                            local chr = game.Players.LocalPlayer.Character
                            local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                            while tpwalking and hb:Wait() and chr and hum and hum.Parent do
                                if hum.MoveDirection.Magnitude > 0 then
                                    chr:TranslateBy(hum.MoveDirection)
                                end
                            end
                        end)
                    end
                end
            end
        end)
    end
})

scriptsTab:AddSection({ "Save Server" })

scriptsTab:AddButton({
    Name = "Save Server",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ShadowsHubseila/Save-server/refs/heads/main/Main%20(4).txt"))()
    end
})

scriptsTab:AddSection({ "Drone Lyra" })

scriptsTab:AddButton({
    Name = "Drone do Lyra",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/BRENOPOOF/drone/refs/heads/main/Main.txt"))()
    end
})

local Tab = Window:MakeTab({"Protection", "rbxassetid://11322093465"})

local LocalPlayer = game:GetService("Players").LocalPlayer
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")

local backupTables = {
    Vehicles = {},
    Canoes = {},
    Jets = {},
    Helis = {},
    Balls = {}
}

local TeleportCarro = {}
function TeleportCarro:MostrarNotificacao(msg)
    print("ðŸ”” "..msg)
end

local function AntiFlingLoop(name, getFolderFunc)
    local active = false
    task.spawn(function()
        while true do
            if active and LocalPlayer.Character then
                local folder = getFolderFunc()
                if folder then
                    for _, item in ipairs(folder:GetChildren()) do
                        local isMine = false
                        if name == "Vehicles" then
                            for _, seat in ipairs(item:GetDescendants()) do
                                if (seat:IsA("VehicleSeat") or seat:IsA("Seat")) and seat.Occupant and seat.Occupant.Parent == LocalPlayer.Character then
                                    isMine = true
                                    break
                                end
                            end
                        elseif name == "Canoes" then
                            local owner = item:FindFirstChild("Owner")
                            isMine = owner and owner.Value == LocalPlayer
                        elseif name == "Jets" or name == "Helis" then
                            isMine = item.Name == LocalPlayer.Name
                        end
                        if not isMine then
                            table.insert(backupTables[name], item:Clone())
                            item:Destroy()
                        end
                    end
                end
            end
            task.wait(0.03)
        end
    end)
    return function(state)
        active = state
        TeleportCarro:MostrarNotificacao(name.." "..(state and "ativado!" or "desativado!"))
        if not state then
            for _, item in ipairs(backupTables[name]) do
                local parentFolder = getFolderFunc()
                if parentFolder then item.Parent = parentFolder end
            end
            backupTables[name] = {}
        end
    end
end

-- BOTÃ•ES DE PROTEÃ‡ÃƒO
Tab:AddButton({
    Name = "AntiBug",
    Description = "Devs: cahh,Night",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/BRENOPOOF/Antglitch/refs/heads/main/Main.txt"))()
    end
})

Tab:AddButton({
    Name = "Anti Som",
    Description = "anti som",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/BRENOPOOF/antaudiosdefdps/refs/heads/main/Main.txt"))()
    end
})

-- TOGGLES DE ANTI-FLING / SIT
Tab:AddToggle({
    Name = "Anti flings",
    Description = "Remove Veiculos de outros jogadores automaticamente",
    Default = false,
    Callback = AntiFlingLoop("Vehicles", function()
        return Workspace:FindFirstChild("Vehicles")
    end)
})

Tab:AddToggle({
    Name = "Anti Canoe Fling",
    Description = "Remove canoas de outros players automaticamente (reaparecem ao desativar)",
    Default = false,
    Callback = AntiFlingLoop("Canoes", function()
        local workspaceCom = Workspace:FindFirstChild("WorkspaceCom")
        return workspaceCom and workspaceCom:FindFirstChild("001_CanoeStorage")
    end)
})

Tab:AddToggle({
    Name = "Anti Fling Jets",
    Description = "Remove jets de outros jogadores automaticamente",
    Default = false,
    Callback = AntiFlingLoop("Jets", function()
        local folder = Workspace:FindFirstChild("WorkspaceCom")
        if folder and folder:FindFirstChild("001_Airport") then
            local storage = folder["001_Airport"]:FindFirstChild("AirportHanger")
            if storage then return storage:FindFirstChild("001_JetStorage") and storage["001_JetStorage"]:FindFirstChild("JetAirport") end
        end
    end)
})

Tab:AddToggle({
    Name = "Anti Fling Helicopteros",
    Description = "Remove helicÃ³pteros de outros jogadores automaticamente",
    Default = false,
    Callback = AntiFlingLoop("Helis", function()
        local folder = Workspace:FindFirstChild("WorkspaceCom")
        return folder and folder:FindFirstChild("001_HeliStorage") and folder["001_HeliStorage"]:FindFirstChild("PoliceStationHeli")
    end)
})

Tab:AddToggle({
    Name = "Anti Fling Ball",
    Description = "Remove SoccerBalls automaticamente",
    Default = false,
    Callback = AntiFlingLoop("Balls", function()
        local folder = Workspace:FindFirstChild("WorkspaceCom")
        return folder and folder:FindFirstChild("001_SoccerBalls")
    end)
})

-- Anti Sit
local antiSitActive = false
Tab:AddToggle({
    Name = "Anti Sit",
    Description = "NÃ£o deixa seu personagem sentar",
    Default = false,
    Callback = function(state)
        antiSitActive = state
        TeleportCarro:MostrarNotificacao("Anti Sit "..(state and "ativado!" or "desativado!"))
        task.spawn(function()
            while antiSitActive and LocalPlayer.Character do
                local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, false)
                    if humanoid:GetState() == Enum.HumanoidStateType.Seated then
                        humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
                    end
                end
                task.wait(0.05)
            end
            if not antiSitActive then
                local humanoid = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, true)
                end
            end
        end)
    end
})

Tab:AddToggle({
    Name = "Anti-Lag",
    Description = "DeduplicaÃ§ao automaticamente de ferramentas",
    Default = false,
    Callback = function(state)
        local Players = game:GetService("Players")
        local dedupLock = {}
        local IGNORED_PLAYER

        if not state then return end

        local function marcarIgnorado(player)
            IGNORED_PLAYER = player
        end

        local function isTargetTool(inst)
            return inst:IsA("Tool")
        end

        local function gatherTools(player)
            local found = {}
            local containers = {}
            if player.Character then table.insert(containers, player.Character) end
            local backpack = player:FindFirstChildOfClass("Backpack")
            if backpack then table.insert(containers, backpack) end
            local sg = player:FindFirstChild("StarterGear")
            if sg then table.insert(containers, sg) end
            for _, container in ipairs(containers) do
                for _, child in ipairs(container:GetChildren()) do
                    if isTargetTool(child) then table.insert(found, child) end
                end
            end
            return found
        end

        local function dedupePlayer(player)
            if player == IGNORED_PLAYER then return end
            if dedupLock[player] then return end
            dedupLock[player] = true
            local tools = gatherTools(player)
            if #tools > 1 then
                for i = 2, #tools do pcall(function() tools[i]:Destroy() end) end
            end
            dedupLock[player] = false
        end

        local function hookPlayer(player)
            if not IGNORED_PLAYER then marcarIgnorado(player) end
            task.defer(dedupePlayer, player)
            local function setupChar(char)
                task.delay(0.5, function() dedupePlayer(player) end)
                char.ChildAdded:Connect(function(child)
                    if isTargetTool(child) then task.delay(0.1, function() dedupePlayer(player) end) end
                end)
            end
            if player.Character then setupChar(player.Character) end
            player.CharacterAdded:Connect(setupChar)
            local backpack = player:WaitForChild("Backpack", 10)
            if backpack then
                backpack.ChildAdded:Connect(function(child)
                    if isTargetTool(child) then task.delay(0.1, function() dedupePlayer(player) end) end
                end)
            end
            local sg = player:FindFirstChild("StarterGear") or player:WaitForChild("StarterGear", 10)
            if sg then
                sg.ChildAdded:Connect(function(child)
                    if isTargetTool(child) then task.delay(0.1, function() dedupePlayer(player) end) end
                end)
            end
        end

        Players.PlayerAdded:Connect(hookPlayer)
        for _, plr in ipairs(Players:GetPlayers()) do hookPlayer(plr) end

        task.spawn(function()
            while state do
                for _, plr in ipairs(Players:GetPlayers()) do dedupePlayer(plr) end
                task.wait(2)
            end
        end)
    end
})

Tab:AddToggle({
    Name = "Anti Fling Portas",
    Description = "Esconde/restaura todas as portas do mapa",
    Default = false,
    Callback = function(state)
        if not _G.hiddenDoors then _G.hiddenDoors = {} end
        if state then
            _G.hiddenDoors = {}
            for _, obj in ipairs(workspace:GetDescendants()) do
                if obj:IsA("BasePart") and obj.Name:lower():find("door") then
                    local doorData = {
                        door = obj,
                        originalTransparency = obj.Transparency,
                        originalCanCollide = obj.CanCollide,
                        originalCastShadow = obj.CastShadow
                    }
                    obj.Transparency = 1
                    obj.CanCollide = false
                    obj.CastShadow = false
                    for _, child in ipairs(obj:GetChildren()) do
                        if child:IsA("BasePart") then
                            child.Transparency = 1
                            child.CanCollide = false
                        elseif child:IsA("SurfaceGui") or child:IsA("BillboardGui") then
                            child.Enabled = false
                        end
                    end
                    table.insert(_G.hiddenDoors, doorData)
                end
            end
            print("ðŸ”§ " .. #_G.hiddenDoors .. " portas escondidas!")
        else
            for _, doorData in ipairs(_G.hiddenDoors or {}) do
                if doorData.door and doorData.door.Parent then
                    doorData.door.Transparency = doorData.originalTransparency
                    doorData.door.CanCollide = doorData.originalCanCollide
                    doorData.door.CastShadow = doorData.originalCastShadow
                    for _, child in ipairs(doorData.door:GetChildren()) do
                        if child:IsA("BasePart") then
                            child.Transparency = 0
                            child.CanCollide = true
                        elseif child:IsA("SurfaceGui") or child:IsA("BillboardGui") then
                            child.Enabled = true
                        end
                    end
                end
            end
            print("âœ… " .. #(_G.hiddenDoors or {}) .. " portas restauradas com funcionalidade!")
            _G.hiddenDoors = {}
        end
    end
})

Tab:AddToggle({
    Name = "Anti Fling Bloco",
    Description = "Remove O Bloco Bugado",
    Default = false,
    Callback = function(state)
        local Players = game:GetService("Players")
        local player = Players.LocalPlayer
        
        if not _G.playerDoorData then 
            _G.playerDoorData = {}
        end
        
        local function findPlayerDoor()
            local lotsFolder = workspace:FindFirstChild("001_Lots")
            if not lotsFolder then 
                return nil 
            end
            
            for _, lot in pairs(lotsFolder:GetChildren()) do
                if lot:FindFirstChild("HousePickedByPlayer") then
                    local houseModel = lot.HousePickedByPlayer:FindFirstChild("HouseModel")
                    if houseModel then
                        local model = houseModel:FindFirstChild("Model")
                        if model then
                            local noLockDoor = model:FindFirstChild("NoLockHouseDoor")
                            if noLockDoor then
                                local door = noLockDoor:FindFirstChild("Door")
                                if door then
                                    return door, noLockDoor
                                end
                            end
                        end
                    end
                end
            end
            
            return nil
        end
        
        if state then
            local door, parent = findPlayerDoor()
            if door then
                _G.playerDoorData = {
                    door = door,
                    parent = parent,
                    name = door.Name
                }
                door.Parent = nil
            end
        else
            if _G.playerDoorData and _G.playerDoorData.door and _G.playerDoorData.parent then
                _G.playerDoorData.door.Parent = _G.playerDoorData.parent
                _G.playerDoorData = {}
            end
        end
    end
})

local Tab = Window:MakeTab({"Itens/fun", "rbxassetid://127904742940104"})

Tab:AddButton({
    Title = "Planador",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "Glider",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "canhÃ£o",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "Cannon",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "Bola de basquete dourada",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "GoldenBasketball",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "BalÃ£o de Agua",
    Locked = false,
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local Mango1 = ReplicatedStorage.RE["1Too1l"]
        Mango1:InvokeServer("PickingTools", "Water Balloon")
    end
})

Tab:AddButton({
    Title = "LanÃ§ador de ovo",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "EggLauncher",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "foice",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "Scythe",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "Cristal Verde",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "UraniumRod",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "Serra Eletrica",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "Chainsaw",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "Telekiness V5",
    Locked = false,
    Callback = function()
      loadstring(game:HttpGet("https://raw.githubusercontent.com/BRENOPOOF/fe-telekinessv5/refs/heads/main/Main.txt"))()
    end
})

local MusicTab = Window:MakeTab({"Audio", "music"})

MusicTab:AddSection("Audio All")

local musicList = {
    ["Ã‰ pra apanhar e ficar calado"] = "79520567252414",
    ["Olha o Gassss"] = "684903565",
    ["Que qui ele disse"] = "128524523145188",
    ["Jumpscare ALTO"] = "6754147732",
    ["ZÃ© da Manga"] = "124420331692210",
    ["LÃ¡ Ele"] = "84193217395790",
    ["Receba"] = "84342842607926",
    ["Cala a Boca Kenga"] = "86494561679259",
    ["Pancada do Chaves"] = "135082533097287",
    ["Cavalo"] = "5134648778",
    ["Cat Laugh Meme"] = "18854692077",
    ["Loud Jumpscare"] = "7236490488",
    ["Risada do Sonic Exe"] = "7337298420",
    ["Grito do Sonic Exe"] = "146563959",
    ["Ai meu C*"] = "88347533205938",
    ["Ez"] = "18603736229",
    ["Vine Boom Meme"] = "18984970630",
    ["Bruh Meme"] = "6349641063",
    ["Oxe CadÃª meu Frango?"] = "76088410130739",
    ["Vou Nada"] = "18702236441",
    ["ExplosÃ£o"] = "7405939280",
    ["Ohhh My God Meme"] = "7836929130",
    ["Aughhhhh Meme"] = "102325287973230",
    ["Olha a Mensagem"] = "17780313297",
    ["Bora Bill"] = "17822597588",
    ["NotificaÃ§Ã£o do WhatsApp"] = "18808571870",
    ["Kleberiano e seu Presidente"] = "85919013678918",
    ["O que eu fiz desgraÃ§ado"] = "73951202577593",
    ["Parowwww"] = "71768583581267",
    ["Eu jÃ¡ joguei todos eles"] = "72976103862201",
    ["Eu gosto Ã© assim, amostradinho"] = "75501632675949",
    ["Eu sou Samurai"] = "95779977008485",
    ["Falmengo"] = "83209327610828",
    ["Pipipipipipi"] = "123505593557440",
    ["E quem disse que isso Ã© problema meu?"] = "9063453269",
    ["Toma"] = "124516464058089",
    ["Toma (Seu Madruga)"] = "114636341953322",
    ["Tu Ã© doido"] = "124567830301951",
    ["Meu fi quer Jogar de Bola?"] = "98584020142549",
    ["Nossa (Seu Madruga)"] = "17654670293",
    ["Ohhhh My PC"] = "107412810787615",
    ["Siren Head Call"] = "5681392704",
    ["Goat Man (I See You)"] = "104569727573321",
    ["Cave Dweller"] = "120482191380512",
    ["Man Form The Fog Spawn"] = "98222659370267",
    ["Jumpscare 1"] = "5351101493",
    ["Jumpscare 2"] = "18925320031",
    ["Help Me"] = "4617513181",
    ["Demon Scream 1"] = "5832059740",
    ["Robot Pain"] = "7043924315",
    ["Horror Sound 1"] = "4737106301",
    ["Ronaldo"] = "112094885967128",
    ["380 HZ"] = "6486261822",
    ["1 HZ"] = "128118682266898",
    ["NÃ£o, nÃ£o (Chaves)"] = "74393167344888",
    ["Chupeta"] = "132235711219080",
    ["Freeza, por que vocÃª matou o Kuririn?"] = "74563462700748",
    ["E morreu"] = "71700111426066",
    ["Faz o L"] = "94350012510206",
    ["The Rake Scream 1"] = "72171849228899",
    ["The Rake Scream 2"] = "18967004856",
    ["Super Scream 1"] = "9043345011",
    ["Super Scream 2"] = "9043345012",
    ["Super Scream 3"] = "108336423519786",
    ["Super Scream 4"] = "9043345135",
    ["Super Scream 5"] = "104868924499219",
    ["Super Mario 64 Fall Scream"] = "1973317014",
    ["Seu CÃ©rebro Ã© Burro"] = "82284055473737",
    ["Ui Ele Gosta"] = "138936629170553",
    ["DanÃ§a Gatinho, DanÃ§a"] = "112244173773874",
    ["Ai Lula (Kleberiano)"] = "18585340476",
    ["Por favor, me ajuda (Lula)"] = "100644063890026",
    ["Fala Baixo"] = "85146723313238",
    ["Ã‰ o Menino de Papai Ã©?"] = "117434960434893",
    ["Deita Aqui"] = "86126187308121",
    ["Slk, NÃ£o Compensa"] = "101242461910421",
    ["Prowler Sound 1"] = "8374059857",
    ["Prowler Sound 2"] = "82132507008392",
    ["Buhhhh (Minguado)"] = "83788010495185",
    ["Huggy Wuggy Jumpscare"] = "8051776431",
    ["Poppy Playtime Alarme"] = "75246199058473",
    ["Huggy Wuggy Roar"] = "127588576195602",
    ["TrovÃ£o"] = "99936497230394",
    ["Oiia Oiia"] = "104483584177040",
    ["Hahahaha (Meme)"] = "113174873617518",
    ["HAHAHAHA"] = "8496017782",
    ["Engole o Choro e Faz o L"] = "82364726700315",
    ["Coca Cola Espuma"] = "92175423082594",
    ["Dbz Punch Sound"] = "441202925",
    ["TÃ¡ Travando"] = "112442884771932",
    ["Chavooo"] = "87096180148960",
    ["Rapaz ele tÃ¡ sem Zap"] = "99782709356719",
    ["The Boiled One"] = "137177653817621",
    ["I Ghost The Down Cool"] = "84663543883498",
    ["Toma Jack no Sol Quente"] = "97476487963273",
    ["Chicken Jockey"] = "109689455115234",
    ["The Nether"] = "92539999916114",
    ["Flint and Steel"] = "121022461879318",
    ["RÃ¡pido, eu nÃ£o quero morrer"] = "76119124192580",
    ["Ai Ai Ai"] = "127588453749028",
    ["Ai Chega Chega"] = "96649978398443",
    ["Ai Meu C*zinho"] = "113413619114733",
    ["Uhg! Yamete Kudasai!"] = "108494476595033",
    ["Pelo Jeito ela tÃ¡ querendo"] = "94395705857835",
    ["Ã‰ que eu tÃ´ meio gripadinha"] = "17496716711",
    ["BenÃ§a pai"] = "117339139267570",
    ["VocÃª deve se matar agora"] = "102918849275968",
    ["Ah cala essa boca"] = "130313998778694",
    ["Devia ter uma lei"] = "116683015063357",
    ["Fui Tapeado"] = "130905328878700",
    ["bell sound"] = "78781475442496",
    ["VOCÃŠ TA FUDIDO EU VO LHE PEGÃ"] = "100496102114196",
    ["danger alarm meme"] = "9068077052",
    ["mango screen"] = "15798534597",
    ["planktoon"] = "127758670731005",
    ["HE HE HE HA"] = "93779555057888",
    ["fnaf VHS"] = "114242051346896",
    ["UROOOOOOOOOOOOH"] = "17681652807",
    ["EA E E AEEAE"] = "4159840042",
    ["Skibididadom dara BOOOM"] = "100835951102315",
    ["goofy laugh meme"] = "129392228554178",
    ["i wanna run away"] = "125579008816192",
    ["ahhh! neko"] = "78225137918378",
    ["Fall meme"] = "18835374228",
    ["ultra fart meme"] = "130894250173559",
    ["AHHHHHHHHH"] = "108269317221407",
    ["Quem e o louco entre nÃ³s"] = "106958630419629"
}

local musicOptions = {}
for name, _ in pairs(musicList) do
    table.insert(musicOptions, name)
end
table.sort(musicOptions)

local selectedMusic = ""

MusicTab:AddDropdown({
    Name = "Selecionar MÃºsica",
    Options = musicOptions,
    Default = musicOptions[1],
    Callback = function(selected)
        selectedMusic = musicList[selected]
    end
})

MusicTab:AddButton({
    Name = "Audio All",
    Callback = function()
        if selectedMusic == "" then
            if NotifyEnabled then
                redzlib:MakeNotify({
                    Title = "Erro",
                    Text = "Selecione uma mÃºsica primeiro",
                    Time = 3
                })
            end
            return
        end
        
        local Players = game:GetService("Players")
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local audioID = selectedMusic
        
        local GunSoundEvent = ReplicatedStorage:FindFirstChild("1Gu1nSound1s", true)
        
        if GunSoundEvent then
            GunSoundEvent:FireServer(workspace, audioID, 1)
        end
        
        task.wait(0.3)
        
        local GuinRemote = ReplicatedStorage.RE:FindFirstChild("1Gu1n")
        
        if GuinRemote then
            local allPlayers = Players:GetPlayers()
            
            for _, player in pairs(allPlayers) do
                local character = player.Character
                if character and character:FindFirstChild("HumanoidRootPart") then
                    local hrp = character.HumanoidRootPart
                    
                    task.spawn(function()
                        local Sound = Instance.new("Sound")
                        Sound.SoundId = "rbxassetid://" .. audioID
                        Sound.Volume = 1
                        Sound.Looped = false
                        Sound.Parent = hrp
                        Sound:Play()
                        
                        Sound.Ended:Connect(function()
                            Sound:Destroy()
                        end)
                    end)
                    
                    task.spawn(function()
                        pcall(function()
                            firesignal(GuinRemote.OnClientEvent, table.unpack({
                                [1] = player,
                                [2] = hrp,
                                [3] = hrp,
                                [4] = Vector3.new(0, -1, 0),
                                [5] = Vector3.new(0, 0, 0),
                                [6] = hrp,
                                [7] = hrp,
                                [8] = audioID,
                                [9] = audioID,
                                [10] = {[1] = true},
                                [11] = {
                                    [1] = 25,
                                    [2] = Vector3.new(0.25, 0.25, 100),
                                    [3] = BrickColor.new('Bright yellow'),
                                    [4] = 0.25,
                                    [5] = Enum.Material.SmoothPlastic,
                                    [6] = 0.25,
                                },
                                [12] = true,
                                [13] = false,
                            }))
                        end)
                    end)
                    
                    task.spawn(function()
                        pcall(function()
                            GuinRemote:FireServer(table.unpack({
                                [1] = hrp,
                                [2] = hrp,
                                [3] = Vector3.new(0, -1, 0),
                                [4] = Vector3.new(0, 0, 0),
                                [5] = hrp,
                                [6] = hrp,
                                [7] = audioID,
                                [8] = audioID,
                                [9] = {[1] = true},
                                [10] = {
                                    [1] = 25,
                                    [2] = Vector3.new(0.25, 0.25, 100),
                                    [3] = BrickColor.new('Bright yellow'),
                                    [4] = 0.25,
                                    [5] = Enum.Material.SmoothPlastic,
                                    [6] = 0.25,
                                },
                                [11] = true,
                                [12] = false,
                            }))
                        end)
                    end)
                    
                    task.wait(0.1)
                end
            end
        end
        
        if NotifyEnabled then
            redzlib:MakeNotify({
                Title = "MÃºsica",
                Text = "Tocando mÃºsica selecionada",
                Time = 3
            })
        end
    end
})

MusicTab:AddSection("Ãudio")

local savedAudios = {}
local savedAudioOptions = {}
local selectedAudioID = ""
local selectedAudioName = ""
local selectedSavedAudio = ""
local selectedPlayer = ""
local selectedHouse = ""
local audioMethod = "ID"
local audioDropdown
local playerDropdown
local houseDropdown

local function SaveAudiosToFile()
    if writefile then
        local json = game:GetService("HttpService"):JSONEncode(savedAudios)
        writefile("Kystrypkry_Audios.json", json)
    end
end

local function LoadAudiosFromFile()
    if readfile and isfile and isfile("Kystrypkry_Audios.json") then
        local success, result = pcall(function()
            return game:GetService("HttpService"):JSONDecode(readfile("Kystrypkry_Audios.json"))
        end)
        
        if success and type(result) == "table" then
            savedAudios = result
            savedAudioOptions = {}
            for name, _ in pairs(savedAudios) do
                table.insert(savedAudioOptions, name)
            end
        end
    end
end

LoadAudiosFromFile()

MusicTab:AddTextBox({
    Name = "Nome",
    Default = "",
    PlaceholderText = "Kystrypkry",
    ClearText = false,
    Callback = function(value)
        selectedAudioName = value
    end
})

MusicTab:AddTextBox({
    Name = "Audio ID",
    Default = "",
    PlaceholderText = "Kystrypkry",
    ClearText = false,
    Callback = function(value)
        selectedAudioID = value
    end
})

audioDropdown = MusicTab:AddDropdown({
    Name = "Audio List",
    Options = savedAudioOptions,
    Callback = function(selected)
        selectedSavedAudio = selected
    end
})

MusicTab:AddButton({
    Name = "Salvar Ãudio",
    Callback = function()
        if selectedAudioID ~= "" and selectedAudioName ~= "" then
            savedAudios[selectedAudioName] = selectedAudioID
            table.insert(savedAudioOptions, selectedAudioName)
            
            SaveAudiosToFile()
            audioDropdown:SetK(savedAudioOptions, true)
        end
    end
})

MusicTab:AddButton({
    Name = "Remover Ãudio",
    Callback = function()
        if selectedSavedAudio ~= "" and savedAudios[selectedSavedAudio] then
            savedAudios[selectedSavedAudio] = nil
            
            for i, name in ipairs(savedAudioOptions) do
                if name == selectedSavedAudio then
                    table.remove(savedAudioOptions, i)
                    break
                end
            end
            
            SaveAudiosToFile()
            audioDropdown:SetK(savedAudioOptions, true)
            
            selectedSavedAudio = ""
        end
    end
})

MusicTab:AddSection("Enviar Ãudio")

MusicTab:AddDropdown({
    Name = "MÃ©todo",
    Options = {"ID", "Arquivo Salvo"},
    Default = "ID",
    Callback = function(selected)
        audioMethod = selected
    end
})

local function UpdatePlayerDropdown()
    local playerOptions = {}
    for _, player in pairs(game:GetService("Players"):GetPlayers()) do
        table.insert(playerOptions, player.Name)
    end
    
    if playerDropdown then
        playerDropdown:SetK(playerOptions, true)
    end
end

local function UpdateHouseDropdown()
    local HouseNames = {}
    local lotsFolder = workspace:FindFirstChild("001_Lots")
    if lotsFolder then
        for _, house in ipairs(lotsFolder:GetChildren()) do
            if house:IsA("Model") then
                table.insert(HouseNames, house.Name)
            end
        end
    end
    table.sort(HouseNames)
    if houseDropdown then
        houseDropdown:SetK(HouseNames, true)
    end
end

local playerOptions = {}
for _, player in pairs(game:GetService("Players"):GetPlayers()) do
    table.insert(playerOptions, player.Name)
end

playerDropdown = MusicTab:AddDropdown({
    Name = "Player",
    Options = playerOptions,
    Callback = function(selected)
        selectedPlayer = selected
    end
})

game:GetService("Players").PlayerAdded:Connect(function()
    task.wait(0.5)
    UpdatePlayerDropdown()
end)

game:GetService("Players").PlayerRemoving:Connect(function()
    task.wait(0.5)
    UpdatePlayerDropdown()
end)

local function GetHouseOptions()
    local HouseNames = {}
    local lotsFolder = workspace:FindFirstChild("001_Lots")
    if lotsFolder then
        for _, house in ipairs(lotsFolder:GetChildren()) do
            if house:IsA("Model") then
                table.insert(HouseNames, house.Name)
            end
        end
    end
    table.sort(HouseNames)
    return HouseNames
end

houseDropdown = MusicTab:AddDropdown({
    Name = "Casa",
    Options = GetHouseOptions(),
    Default = "",
    Callback = function(selected)
        selectedHouse = selected
    end
})

UpdateHouseDropdown()

local lotsFolder = workspace:FindFirstChild("001_Lots")
if lotsFolder then
    lotsFolder.ChildAdded:Connect(function(child)
        task.wait(0.2)
        UpdateHouseDropdown()
    end)
    
    lotsFolder.ChildRemoved:Connect(function(child)
        task.wait(0.2)
        UpdateHouseDropdown()
    end)
    
    for _, house in pairs(lotsFolder:GetChildren()) do
        if house:IsA("Model") then
            house.ChildAdded:Connect(function()
                task.wait(0.2)
                UpdateHouseDropdown()
            end)
            house.ChildRemoved:Connect(function()
                task.wait(0.2)
                UpdateHouseDropdown()
            end)
        end
    end
end

local function GetFinalAudioID()
    if audioMethod == "ID" then
        if selectedAudioID ~= "" then
            return selectedAudioID
        end
    elseif audioMethod == "Arquivo Salvo" then
        if selectedSavedAudio ~= "" and savedAudios[selectedSavedAudio] then
            return savedAudios[selectedSavedAudio]
        end
    end
    return nil
end

MusicTab:AddButton({
    Name = "Ãudio Player",
    Callback = function()
        local finalAudioID = GetFinalAudioID()
        
        if not finalAudioID or selectedPlayer == "" then
            return
        end
        
        local Players = game:GetService("Players")
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local targetPlayer = Players:FindFirstChild(selectedPlayer)
        
        if targetPlayer and targetPlayer.Character then
            local hrp = targetPlayer.Character:FindFirstChild("HumanoidRootPart")
            if hrp then
                local GunSoundEvent = ReplicatedStorage:FindFirstChild("1Gu1nSound1s", true)
                
                if GunSoundEvent then
                    GunSoundEvent:FireServer(workspace, finalAudioID, 1)
                end
                
                task.wait(0.3)
                
                local GuinRemote = ReplicatedStorage.RE:FindFirstChild("1Gu1n")
                
                if GuinRemote then
                    task.spawn(function()
                        local Sound = Instance.new("Sound")
                        Sound.SoundId = "rbxassetid://" .. finalAudioID
                        Sound.Volume = 1
                        Sound.Looped = false
                        Sound.Parent = hrp
                        Sound:Play()
                        
                        Sound.Ended:Connect(function()
                            Sound:Destroy()
                        end)
                    end)
                    
                    task.spawn(function()
                        pcall(function()
                            firesignal(GuinRemote.OnClientEvent, table.unpack({
                                [1] = targetPlayer,
                                [2] = hrp,
                                [3] = hrp,
                                [4] = Vector3.new(0, -1, 0),
                                [5] = Vector3.new(0, 0, 0),
                                [6] = hrp,
                                [7] = hrp,
                                [8] = finalAudioID,
                                [9] = finalAudioID,
                                [10] = {[1] = true},
                                [11] = {
                                    [1] = 25,
                                    [2] = Vector3.new(0.25, 0.25, 100),
                                    [3] = BrickColor.new('Bright yellow'),
                                    [4] = 0.25,
                                    [5] = Enum.Material.SmoothPlastic,
                                    [6] = 0.25,
                                },
                                [12] = true,
                                [13] = false,
                            }))
                        end)
                    end)
                    
                    task.spawn(function()
                        pcall(function()
                            GuinRemote:FireServer(table.unpack({
                                [1] = hrp,
                                [2] = hrp,
                                [3] = Vector3.new(0, -1, 0),
                                [4] = Vector3.new(0, 0, 0),
                                [5] = hrp,
                                [6] = hrp,
                                [7] = finalAudioID,
                                [8] = finalAudioID,
                                [9] = {[1] = true},
                                [10] = {
                                    [1] = 25,
                                    [2] = Vector3.new(0.25, 0.25, 100),
                                    [3] = BrickColor.new('Bright yellow'),
                                    [4] = 0.25,
                                    [5] = Enum.Material.SmoothPlastic,
                                    [6] = 0.25,
                                },
                                [11] = true,
                                [12] = false,
                            }))
                        end)
                    end)
                end
            end
        end
    end
})

MusicTab:AddButton({
    Name = "Ãudio Casa",
    Callback = function()
        local finalAudioID = GetFinalAudioID()
        
        if not finalAudioID or selectedHouse == "" then
            return
        end
        
        local lotsFolder = workspace:FindFirstChild("001_Lots")
        if not lotsFolder then
            return
        end
        
        local house = lotsFolder:FindFirstChild(selectedHouse)
        if not house then
            return
        end
        
        local buyHouse = house:FindFirstChild("BuyHouse")
        if not buyHouse then
            return
        end
        
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local GunSoundEvent = ReplicatedStorage:FindFirstChild("1Gu1nSound1s", true)
        
        if GunSoundEvent then
            GunSoundEvent:FireServer(workspace, finalAudioID, 1)
        end
        
        task.wait(0.3)
        
        local GuinRemote = ReplicatedStorage.RE:FindFirstChild("1Gu1n")
        
        if GuinRemote then
            task.spawn(function()
                local Sound = Instance.new("Sound")
                Sound.SoundId = "rbxassetid://" .. finalAudioID
                Sound.Volume = 1
                Sound.Looped = false
                Sound.Parent = buyHouse
                Sound:Play()
                
                Sound.Ended:Connect(function()
                    Sound:Destroy()
                end)
            end)
            
            task.spawn(function()
                pcall(function()
                    firesignal(GuinRemote.OnClientEvent, table.unpack({
                        [1] = game:GetService("Players").LocalPlayer,
                        [2] = buyHouse,
                        [3] = buyHouse,
                        [4] = Vector3.new(0, -1, 0),
                        [5] = Vector3.new(0, 0, 0),
                        [6] = buyHouse,
                        [7] = buyHouse,
                        [8] = finalAudioID,
                        [9] = finalAudioID,
                        [10] = {[1] = true},
                        [11] = {
                            [1] = 25,
                            [2] = Vector3.new(0.25, 0.25, 100),
                            [3] = BrickColor.new('Bright yellow'),
                            [4] = 0.25,
                            [5] = Enum.Material.SmoothPlastic,
                            [6] = 0.25,
                        },
                        [12] = true,
                        [13] = false,
                    }))
                end)
            end)
            
            task.spawn(function()
                pcall(function()
                    GuinRemote:FireServer(table.unpack({
                        [1] = buyHouse,
                        [2] = buyHouse,
                        [3] = Vector3.new(0, -1, 0),
                        [4] = Vector3.new(0, 0, 0),
                        [5] = buyHouse,
                        [6] = buyHouse,
                        [7] = finalAudioID,
                        [8] = finalAudioID,
                        [9] = {[1] = true},
                        [10] = {
                            [1] = 25,
                            [2] = Vector3.new(0.25, 0.25, 100),
                            [3] = BrickColor.new('Bright yellow'),
                            [4] = 0.25,
                            [5] = Enum.Material.SmoothPlastic,
                            [6] = 0.25,
                        },
                        [11] = true,
                        [12] = false,
                    }))
                end)
            end)
        end
    end
})

MusicTab:AddButton({
    Name = "Ãudio All Player",
    Callback = function()
        local finalAudioID = GetFinalAudioID()
        
        if not finalAudioID then
            return
        end
        
        local Players = game:GetService("Players")
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        
        local GunSoundEvent = ReplicatedStorage:FindFirstChild("1Gu1nSound1s", true)
        
        if GunSoundEvent then
            GunSoundEvent:FireServer(workspace, finalAudioID, 1)
        end
        
        task.wait(0.1)
        
        local GuinRemote = ReplicatedStorage.RE:FindFirstChild("1Gu1n")
        
        if GuinRemote then
            local allPlayers = Players:GetPlayers()
            
            for _, player in pairs(allPlayers) do
                local character = player.Character
                if character and character:FindFirstChild("HumanoidRootPart") then
                    local hrp = character.HumanoidRootPart
                    
                    task.spawn(function()
                        local Sound = Instance.new("Sound")
                        Sound.SoundId = "rbxassetid://" .. finalAudioID
                        Sound.Volume = 1
                        Sound.Looped = false
                        Sound.Parent = hrp
                        Sound:Play()
                        
                        Sound.Ended:Connect(function()
                            Sound:Destroy()
                        end)
                    end)
                    
                    task.spawn(function()
                        pcall(function()
                            firesignal(GuinRemote.OnClientEvent, table.unpack({
                                [1] = player,
                                [2] = hrp,
                                [3] = hrp,
                                [4] = Vector3.new(0, -1, 0),
                                [5] = Vector3.new(0, 0, 0),
                                [6] = hrp,
                                [7] = hrp,
                                [8] = finalAudioID,
                                [9] = finalAudioID,
                                [10] = {[1] = true},
                                [11] = {
                                    [1] = 25,
                                    [2] = Vector3.new(0.25, 0.25, 100),
                                    [3] = BrickColor.new('Bright yellow'),
                                    [4] = 0.25,
                                    [5] = Enum.Material.SmoothPlastic,
                                    [6] = 0.25,
                                },
                                [12] = true,
                                [13] = false,
                            }))
                        end)
                    end)
                    
                    task.spawn(function()
                        pcall(function()
                            GuinRemote:FireServer(table.unpack({
                                [1] = hrp,
                                [2] = hrp,
                                [3] = Vector3.new(0, -1, 0),
                                [4] = Vector3.new(0, 0, 0),
                                [5] = hrp,
                                [6] = hrp,
                                [7] = finalAudioID,
                                [8] = finalAudioID,
                                [9] = {[1] = true},
                                [10] = {
                                    [1] = 25,
                                    [2] = Vector3.new(0.25, 0.25, 100),
                                    [3] = BrickColor.new('Bright yellow'),
                                    [4] = 0.25,
                                    [5] = Enum.Material.SmoothPlastic,
                                    [6] = 0.25,
                                },
                                [11] = true,
                                [12] = false,
                            }))
                        end)
                    end)
                    
                    task.wait(0.3)
                end
            end
        end
    end
})

MusicTab:AddButton({
    Name = "Ãudio Casa All",
    Callback = function()
        local finalAudioID = GetFinalAudioID()
        
        if not finalAudioID then
            return
        end
        
        local lotsFolder = workspace:FindFirstChild("001_Lots")
        if not lotsFolder then
            return
        end
        
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        
        local GunSoundEvent = ReplicatedStorage:FindFirstChild("1Gu1nSound1s", true)
        
        if GunSoundEvent then
            GunSoundEvent:FireServer(workspace, finalAudioID, 1)
        end
        
        task.wait(0.3)
        
        local GuinRemote = ReplicatedStorage.RE:FindFirstChild("1Gu1n")
        
        if GuinRemote then
            for _, house in pairs(lotsFolder:GetChildren()) do
                if house:IsA("Model") then
                    local buyHouse = house:FindFirstChild("BuyHouse")
                    if buyHouse then
                        task.spawn(function()
                            local Sound = Instance.new("Sound")
                            Sound.SoundId = "rbxassetid://" .. finalAudioID
                            Sound.Volume = 1
                            Sound.Looped = false
                            Sound.Parent = buyHouse
                            Sound:Play()
                            
                            Sound.Ended:Connect(function()
                                Sound:Destroy()
                            end)
                        end)
                        
                        task.spawn(function()
                            pcall(function()
                                firesignal(GuinRemote.OnClientEvent, table.unpack({
                                    [1] = game:GetService("Players").LocalPlayer,
                                    [2] = buyHouse,
                                    [3] = buyHouse,
                                    [4] = Vector3.new(0, -1, 0),
                                    [5] = Vector3.new(0, 0, 0),
                                    [6] = buyHouse,
                                    [7] = buyHouse,
                                    [8] = finalAudioID,
                                    [9] = finalAudioID,
                                    [10] = {[1] = true},
                                    [11] = {
                                        [1] = 25,
                                        [2] = Vector3.new(0.25, 0.25, 100),
                                        [3] = BrickColor.new('Bright yellow'),
                                        [4] = 0.25,
                                        [5] = Enum.Material.SmoothPlastic,
                                        [6] = 0.25,
                                    },
                                    [12] = true,
                                    [13] = false,
                                }))
                            end)
                        end)
                        
                        task.spawn(function()
                            pcall(function()
                                GuinRemote:FireServer(table.unpack({
                                    [1] = buyHouse,
                                    [2] = buyHouse,
                                    [3] = Vector3.new(0, -1, 0),
                                    [4] = Vector3.new(0, 0, 0),
                                    [5] = buyHouse,
                                    [6] = buyHouse,
                                    [7] = finalAudioID,
                                    [8] = finalAudioID,
                                    [9] = {[1] = true},
                                    [10] = {
                                        [1] = 25,
                                        [2] = Vector3.new(0.25, 0.25, 100),
                                        [3] = BrickColor.new('Bright yellow'),
                                        [4] = 0.25,
                                        [5] = Enum.Material.SmoothPlastic,
                                        [6] = 0.25,
                                    },
                                    [11] = true,
                                    [12] = false,
                                }))
                            end)
                        end)
                        
                        task.wait(0.1)
                    end
                end
            end
        end
    end
}
